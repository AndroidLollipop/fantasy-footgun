{"version":3,"sources":["searchRanker.js","resources/5sirlogo.jpg","index.js"],"names":["module","exports","makeRanker","data","run","idf","tf_","terms","trim","toLowerCase","split","tagcollection","i","length","tags","Object","values","map","x","toString","flat","adda","j","push","iks","keys","Math","log","computeTfIdfs","ret","term","sort","a","b","SCHEMA","console","socket","ranker","require","ScrollWrapper","childContext","mykey","children","currKey","React","current","window","scrollY","undefined","scrollTo","scrollX","App","tabs","mySetTabs","socketIOClient","secure","on","indents","dataStore","notifyNewData","notifications","notificationsStore","notifyNewN","writeToken","authToken","ackWriteToken","pendingWrites","msg","alert","eraseEpoch","myEpoch","rls","wls","JSON","stringify","parse","dls","notifyNewForm","emit","disconnect","selTab","setSelTab","appbarRef","heightListeners","currentHeight","offsetHeight","listener","militaryPersistentStore","childScrollContext","childWrapper","label","id","heightProvider","transportPersistentStore","myKey","type","params","renderName","blobs","name","blobName","find","fullName","NotificationsPanel","myData","readNotifications","setData","callbackID","registerNotify","deregisterNotify","form","readForm","style","height","square","generator","item","align","category","winner","TransportViewStyle","detailPersistentStore","currWriteToken","reqInProgress","appendSubmission","write","myPromise","Promise","v","resolve","readRange","formStore","readSubmitted","teamValidator","field","val","key","localStorage","getItem","removeItem","setItem","TeamDisplay","setTd","formItemStyle","nickname","sar21","friendlyName","flexBasis","src","photo","saw","gpmg","variant","onClick","FormFactory","prefill","fields","formPersistentStore","validator","fieldStates","myPersistentStore","prefilledField","prefillConverter","prefillConverters","initialData","states","setStates","myStates","index","fieldType","options","submit","authenticated","constitutedObject","text","fieldName","normalizer","normalizers","res","success","fStr","aStr","setText","fullWidth","value","onChange","event","target","InputLabelProps","shrink","maxWidth","select","SelectProps","native","width","multiline","slice","display","flexWrap","justifyContent","paddingLeft","paddingRight","paddingTop","paddingBottom","TeamView","cloneID","registerForm","setRl","deregisterForm","rl","td","rawSetTd","defaults","dataDefaults","initialUpState","Leaderboard","initialized","up","rawRange","range","rows","registerCallback","rawValue","myRanker","myQuery","deregisterCallback","search","setSearch","last","vRanker","columns","setSort","setUp","clearTimeout","setTimeout","barRef","mySort","isUp","filteredData","filter","status","sortedData","dx","ix","dy","iy","materializer","sortMaterializers","y","min","xc","charCodeAt","yc","reversedData","reverse","addEventListener","e","charCode","stopPropagation","capture","marginLeft","marginRight","ref","onCancelSearch","onRequestSearch","margin","header","active","direction","set","sortOnClick","transportItemGenerator","barSpacer","document","getElementById","MyStickyHeader","headRef","myListeners","capturedTop","getBoundingClientRect","top","bottom","recomputeTop","targetPosition","max","setTop","myIndex","newHeight","removeEventListener","transform","font","ListFactory","tail","stickyHeader","getCallbackSystem","dataSource","registeredCallbacks","callback","formFields","persistent","optional","fieldToFriendly","fieldAttributes","str","date","Date","setMinutes","getMinutes","getTimezoneOffset","toISOString","substring","getTime","description","Tabs","pre","opacity","minWidth","minHeight","padding","disableRipple","selected","sir5logo","ChildWrapper","title","position","child","obj","props","removeCallback","Tab","removable","size","fill","ReactDOM","textAlign"],"mappings":"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","file":"static/js/main.3223112d.chunk.js","sourcesContent":["var computeTfIdfs = (tagcollection, tf_, idf) => { //tf-idf implemented directly according to wikipedia's description of tf-idf\n  //we have to iterate through all tags anyway to compute any single tfidf, no point using lazy computation\n  //just get it done once and never do it again until the next inventory update\n  //if we are brave and adventurous we can try using delta updates and delta'ing the tfidf cache\n  for (var i = 0; i < tagcollection.length; i++){\n    var tags = Object.values(tagcollection[i]).map(x => x.toString().trim().toLowerCase().split(/\\b\\s+/)).flat()\n    var adda = {}\n    for (var j = 0; j < tags.length; j++){\n      if (!adda[tags[j]]){\n        if (!idf[tags[j]]){\n          idf[tags[j]] = 0\n        }\n        idf[tags[j]]++\n        adda[tags[j]] = 0\n      }\n      adda[tags[j]] += 1/tags.length\n    }\n    tf_.push(adda)\n  }\n  const iks = Object.keys(idf)\n  for (var i = 0; i < iks.length; i++){\n    if (idf[iks[i]]){\n      idf[iks[i]] = Math.log(tagcollection.length/idf[iks[i]])\n    }\n    else{\n      idf[iks[i]] = 0\n    }\n  }\n}\nvar makeRanker = (data) => {\n  var run = 0\n  var idf = {}\n  var tf_ = []\n  return (terms) => {\n    var terms = terms.trim().toLowerCase().split(/\\b\\s+/)\n    if (!run){\n      computeTfIdfs(data, tf_, idf)\n      run = 1\n    }\n    var ret = []\n    for (var i = 0; i < data.length; i++){\n      ret.push([0, 0, i, data[i]])\n    }\n    for (var i = 0; i < terms.length; i++){\n      var term = terms[i]\n      for (var j = 0; j < data.length; j++){\n        if (tf_[j][term]){\n          ret[j][0] -= tf_[j][term] * idf[term]\n          ret[j][1] -= tf_[j][term]\n        }\n      }\n    }\n    ret = ret.sort((a, b) => {\n      var i = 0\n      while(a[i] === b[i]){\n        i++\n      }\n      return a[i]-b[i]\n    }).map(x => x[3])\n    return ret\n  }\n}\nmodule.exports = {\n  makeRanker: makeRanker\n}","export default __webpack_public_path__ + \"static/media/5sirlogo.a6ac04db.jpg\";","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\n\nimport socketIOClient from \"socket.io-client\";\n\nimport * as Material from \"@material-ui/core\"\nimport * as Icons from \"@material-ui/icons\"\nimport SearchBar from \"material-ui-search-bar\"\n\nimport sir5logo from \"./resources/5sirlogo.jpg\"\n\nimport CalendarTodayIcon from \"@material-ui/icons/CalendarToday\"\nimport ListIcon from \"@material-ui/icons/List\"\n\nconst SCHEMA = \"0.1.5a\"\nconst VERSION_NUMBER = \"fantasy-footgun 0.1.7a\"\nconsole.log(VERSION_NUMBER)\n\nconst ranker = require(\"./searchRanker.js\")\n\nvar serverURL = \"https://sheltered-atoll-88652.herokuapp.com/\"\n\nvar setTabs\nvar additionalTabs = []\nconst RESERVED_TABS = 1\nvar tabID = RESERVED_TABS\nconst addTab = (tab) => {\n  additionalTabs = [...additionalTabs]\n  additionalTabs.push(tab)\n  setTabs(additionalTabs)\n}\nconst removeTab = (id) => {\n  additionalTabs = [...additionalTabs].filter(x => x.params[0] !== id)\n  detailPersistentStore[id] = undefined\n  setTabs(additionalTabs)\n}\n\nvar socket\n\nconst ScrollWrapper = ({childContext, mykey, children}) => {\n  const currKey = React.useRef(mykey)\n  if (currKey.current !== mykey && currKey.current !== null) {\n    childContext.current[currKey.current] = window.scrollY\n    currKey.current = null\n  }\n  React.useLayoutEffect(() => {\n    currKey.current = mykey\n    if (childContext.current[mykey] === undefined) {\n      childContext.current[mykey] = 0\n    }\n    window.scrollTo(window.scrollX, childContext.current[mykey])\n  }, [mykey, currKey])\n  return children\n}\n\nconst App = () => {\n  \n  var [tabs, mySetTabs] = React.useState([])\n  setTabs = mySetTabs\n  React.useEffect(() => {\n    socket = socketIOClient(serverURL, {secure: true});\n    socket.on(\"sendIndents\", (indents) => {\n      dataStore = {...indents}\n      notifyNewData()\n    })\n    socket.on(\"sendNotifications\", (notifications) => {\n      notificationsStore = [...notifications]\n      notifyNewN()\n    })\n    socket.on(\"commit\", (writeToken, authToken) => {\n      if (writeToken !== undefined) {\n        if (writeToken < ackWriteToken) {\n          return\n        }\n        ackWriteToken = writeToken\n        if (pendingWrites[writeToken] !== undefined) {\n          pendingWrites[writeToken]([true, authToken])\n        }\n      }\n    })\n    socket.on(\"fail\", (msg, writeToken) => {\n      alert(msg)\n      if (writeToken !== undefined) {\n        if (writeToken < ackWriteToken) {\n          return\n        }\n        ackWriteToken = writeToken\n        if (pendingWrites[writeToken] !== undefined) {\n          pendingWrites[writeToken]([false, null])\n        }\n      }\n    })\n    socket.on(\"sendEraseEpoch\", (eraseEpoch) => {\n      const myEpoch = rls(\"eraseEpoch\")\n      wls(\"eraseEpoch\", JSON.stringify(eraseEpoch))\n      if (myEpoch !== null && JSON.parse(myEpoch) !== eraseEpoch) {\n        dls(\"locked\")\n        dls(\"token\")\n        notifyNewForm()\n      }\n    })\n    socket.emit(\"requestIndents\", \"\")\n    socket.emit(\"requestNotifications\", \"\")\n    socket.emit(\"requestEraseEpoch\")\n    return () => {\n      socket.disconnect()\n    }\n  }, [])\n  const [selTab, setSelTab] = React.useState(0)\n  const appbarRef = React.useRef(null)\n  const heightListeners = React.useRef([])\n  const currentHeight = React.useRef(0)\n\n  React.useEffect(() => {\n    if (appbarRef.current) {\n      currentHeight.current = appbarRef.current.offsetHeight\n      for (const listener of heightListeners.current) {\n        listener(appbarRef.current.offsetHeight)\n      }\n    }\n  }, [appbarRef, appbarRef?.current?.offsetHeight])\n\n  const militaryPersistentStore = React.useRef({})\n  const childScrollContext = React.useRef({})\n\n  return (\n    <div>\n      <Tabs childWrapper={ScrollWrapper} childContext={childScrollContext} selTab={selTab} setSelTab={setSelTab} appbarRef={appbarRef}>\n        {[(<div label=\"my team\" key=\"defaultTab0\" mykey=\"defaultTab0\">\n          <TeamView id={0}/>\n        </div>),\n        (<div label=\"leaderboard\" key=\"defaultTab1\" mykey=\"defaultTab1\">\n          <Leaderboard setSelTab={setSelTab} heightProvider={[currentHeight, heightListeners]} transportPersistentStore={militaryPersistentStore.current} />\n        </div>),\n        (<div label=\"station winners\" key=\"defaultTab2\" myKey=\"defaultTab2\">\n          <NotificationsPanel/>\n        </div>), ...tabs.map(({type, params: v}, i) => (<div></div>))]}\n      </Tabs>\n    </div>\n  );\n}\n\nconst renderName = (blobs, name) => {\n  const blobName = blobs.find(x => x.name === name)?.fullName\n  return typeof blobName === \"string\" ? blobName : name\n}\n\nconst NotificationsPanel = () => {\n  var myData = readNotifications()\n  const [data, setData] = React.useState(myData)\n  React.useEffect(() => {\n    const callbackID = registerNotify(setData)\n    return () => deregisterNotify(callbackID)\n  }, [])\n  const form = readForm()\n  return (\n    <div>\n      <div style={{height: \"12px\"}}/>\n      <Material.Paper square>\n        <ListFactory data={data} generator={item => <Material.TableRow><Material.TableCell align=\"center\">{item.category}</Material.TableCell><Material.TableCell align=\"center\">{renderName(form.blobs[\"Soldiers\"], item.winner)}</Material.TableCell></Material.TableRow>} style={TransportViewStyle}/>\n      </Material.Paper>\n    </div>\n  )\n}\n\nconst detailPersistentStore = {}\n\nconst readDataStore = (internalUID) => {\n  const result = dataStore.filter(x => x.internalUID === internalUID)\n  if (result.length === 0) {\n    return undefined\n  }\n  else {\n    return result[0]\n  }\n}\n\nvar ackWriteToken = 0\nvar currWriteToken = 0\nvar pendingWrites = []\n\nvar reqInProgress = false\n\nconst appendSubmission = async (write, authToken) => {\n  if (reqInProgress) {\n    return [false, null]\n  }\n  reqInProgress = true\n  currWriteToken++\n  var resolve\n  const myPromise = new Promise(v => resolve=v)\n  pendingWrites[currWriteToken] = resolve\n  socket.emit(\"appendSubmission\", write, currWriteToken, authToken)\n  const ret = await myPromise\n  reqInProgress = false\n  return ret\n}\n\nconst readRange = () => {\n  return dataStore\n}\n\nconst readForm = () => {\n  return formStore\n}\n\nconst readSubmitted = () => {\n  return rls(\"locked\")\n}\n\nconst teamValidator = data => {\n  for (const field in data) {\n    const val = data[field]\n    if (!val || typeof val === \"string\" && val.length === 0) {\n      return [\"FAILED\", \"Please fill in all fields\"]\n    }\n  }\n  return [\"SUCCESS\"]\n}\n\nconst rls = (key) => {\n  if (window.localStorage.getItem(`ALFG:schema`) !== SCHEMA) {\n    window.localStorage.removeItem(`ALFG:data:${key}`)\n  }\n  return window.localStorage.getItem(`ALFG:data:${key}`)\n}\n\nconst wls = (key, item) => {\n  window.localStorage.setItem(`ALFG:schema`, SCHEMA)\n  window.localStorage.setItem(`ALFG:data:${key}`, item)\n}\n\nconst dls = (key, item) => {\n  window.localStorage.removeItem(`ALFG:data:${key}`)\n}\n\nconst TeamDisplay = ({blobs, data, setTd}) => {\n  return data === undefined ? <div/> : <div>\n    <div>\n      <div style={formItemStyle}>\n        <Material.Typography>{`Name: ${data.nickname}`}</Material.Typography>\n      </div>\n      <div style={formItemStyle}>\n        <Material.Typography>{`SAR21: ${blobs[\"Soldiers\"].find(x => x.name === data.sar21)?.friendlyName}`}</Material.Typography>\n        <div style={{flexBasis: \"100%\", height: \"12px\"}}/>\n        <img src={blobs[\"Soldiers\"].find(x => x.name === data.sar21)?.photo} height={125}/>\n      </div>\n      <div style={formItemStyle}>\n        <Material.Typography>{`SAW: ${blobs[\"Soldiers\"].find(x => x.name === data.saw)?.friendlyName}`}</Material.Typography>\n        <div style={{flexBasis: \"100%\", height: \"12px\"}}/>\n        <img src={blobs[\"Soldiers\"].find(x => x.name === data.saw)?.photo} height={125}/>\n      </div>\n      <div style={formItemStyle}>\n        <Material.Typography>{`GPMG: ${blobs[\"Soldiers\"].find(x => x.name === data.gpmg)?.friendlyName}`}</Material.Typography>\n        <div style={{flexBasis: \"100%\", height: \"12px\"}}/>\n        <img src={blobs[\"Soldiers\"].find(x => x.name === data.gpmg)?.photo} height={125}/>\n      </div>\n      <div style={{height: \"12px\"}}/>  \n      <Material.Button variant=\"outlined\" onClick={() => setTd(false)}>edit team</Material.Button>\n      <div style={{height:\"48px\"}}/>\n    </div>\n  </div>\n}\n\nconst FormFactory = ({blobs, prefill, fields, formPersistentStore, validator}) => {\n  var fieldStates = []\n  var myPersistentStore = formPersistentStore === undefined ? {} : formPersistentStore\n  if (myPersistentStore.data === undefined) {\n    myPersistentStore.data = fields.map(x => {\n      if (typeof prefill === \"object\") {\n        const prefilledField = prefill[x.name]\n        if (prefilledField !== undefined) {\n          const prefillConverter = prefillConverters[x.name]\n          if (typeof prefillConverter === \"function\") {\n            return prefillConverter(prefilledField)\n          }\n          return prefilledField\n        }\n      }\n      return x.initialData\n    })\n  }\n  const [states, setStates] = React.useState(myPersistentStore.data)\n  var myStates = states\n  for (var index = 0; index < fields.length; index++) {\n    const i = index\n    const field = fields[i]\n    fieldStates.push([states[i], x => {\n      myStates = [...myStates]\n      myStates[i] = x\n      myPersistentStore.data = myStates\n      setStates(myStates)\n    },field.initialData, field.name, field.friendlyName, field.fieldType, field.options, field.blobName])\n  }\n  const submit = async (authenticated) => {\n    var constitutedObject = {}\n    for (const [text, setText, initialData, fieldName, friendlyName, fieldType] of fieldStates) {\n      const normalizer = normalizers[fieldType]\n      constitutedObject[fieldName] = normalizer ? normalizer(text) : text\n    }\n    const res = validator(constitutedObject)\n    if (res[0] !== \"SUCCESS\") {\n      alert(res[1])\n      return\n    }\n    const [success, authToken] = await appendSubmission(constitutedObject, JSON.parse(rls(\"token\")))\n    if (success) {\n      const fStr = JSON.stringify(constitutedObject)\n      const aStr = JSON.stringify(authToken)\n      wls(\"locked\", fStr)\n      wls(\"token\", aStr)\n      notifyNewForm(fStr)\n    }\n  }\n  return (\n  <div>\n  <div>\n  {fieldStates.map(([text, setText, initialData, fieldName, friendlyName, fieldType, options, blobName], index) => {\n    return (\n      <div style={formItemStyle} key={index}>\n      {fieldType === \"datetime\" ?\n      (<Material.TextField\n        id=\"datetime-local\"\n        fullWidth={true}\n        label={friendlyName}\n        type=\"datetime-local\"\n        variant=\"outlined\"\n        value={text}\n        onChange={(event) => setText(event.target.value)}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        style={{maxWidth: \"1000px\"}}\n      />)\n      :fieldType === \"select\" ? \n      (<Material.TextField \n      fullWidth={true}\n      select\n      label={friendlyName}\n      variant=\"outlined\"\n      value={text}\n      SelectProps={{\n        native: true\n      }}\n      onChange={(event) => setText(event.target.value)}\n      InputLabelProps={{\n        shrink: true,\n      }}\n      style={{maxWidth: \"1000px\"}}\n      >\n      {options.map((val, index) => (<option key={index} value={val}>{val}</option>))}\n      </Material.TextField>)\n      :fieldType === \"selectBlob\" ? \n      (<React.Fragment>\n        <Material.TextField \n        fullWidth={true}\n        select\n        label={friendlyName}\n        variant=\"outlined\"\n        value={text}\n        SelectProps={{\n          native: true\n        }}\n        onChange={(event) => setText(event.target.value)}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        style={{maxWidth: \"1000px\"}}\n        >\n        {(options => text === null ? [<option key={-1} value={null}></option>, ...options] : options)(blobs[blobName].map((val, index) => (<option key={index} value={val.name}>{val.friendlyName}</option>)))}\n        </Material.TextField>\n        <div style={{flexBasis: \"100%\", height: \"12px\"}}/>{text === null ? <div style={{height: 125, width: 1}}/> : <img src={blobs[blobName].find(x => x.name === text)?.photo} height={125}/>}\n      </React.Fragment>)\n      :fieldType === \"multi\" ?\n      (<Material.TextField\n      fullWidth={true}\n      multiline\n      label={friendlyName}\n      variant=\"outlined\"\n      value={text[0] ?? \"\"}\n      onChange={(event) => setText([event.target.value])}\n      InputLabelProps={{\n        shrink: true\n      }}\n      style={{maxWidth: \"1000px\"}}/>)\n      :(<Material.TextField fullWidth={true} multiline label={friendlyName} variant=\"outlined\" value={text} onChange={(event) => setText(event.target.value)} InputLabelProps={{shrink: true,}} style={{maxWidth: \"1000px\"}}/>)\n      }\n      </div>\n    )\n  })}\n  </div>\n  <div style={{height:\"12px\"}}/>\n  <Material.Button variant=\"outlined\" onClick={submit}>lock in team</Material.Button>\n  <div style={{height:\"48px\"}}/>\n  </div>\n  )\n}\n\nconst normalizers = {\n  \"datetime\": x => {\n    try {\n      if (x.length > 0) {\n        return x.slice(8, 10) + \"/\" + x.slice(5, 7) + \"/\" + x.slice(0, 4) + \" \" + x.slice(11, 16)\n      }\n    }\n    catch {\n    }\n    return x\n  }\n}\n\nconst formItemStyle = {\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  justifyContent: \"center\",\n  paddingLeft: \"12px\",\n  paddingRight: \"12px\",\n  paddingTop: \"5px\",\n  paddingBottom: \"7px\"\n}\n\nconst TeamView = ({id, cloneID}) => {\n  React.useEffect(() => {\n    const callbackID = registerForm(value => {\n      setRl(value)\n      setTd(value !== null ? true : false)\n    })\n    return () => deregisterForm(callbackID)\n  }, [])\n  const form = readForm()\n  const [rl, setRl] = React.useState(readSubmitted())\n  const prefill = React.useMemo(() => {\n    return rl ? JSON.parse(rl) : undefined\n  }, [rl])\n  if (detailPersistentStore[id] === undefined) {\n    detailPersistentStore[id] = {td: !!rl}\n  }\n  if (!rl) {\n    detailPersistentStore[id].td = false\n  }\n  const [td, rawSetTd] = React.useState(detailPersistentStore[id].td)\n  const setTd = val => {\n    detailPersistentStore[id].td = val\n    rawSetTd(val)\n  }\n  return (<div style={TransportViewStyle}><div style={{height: \"12px\"}}/>{td ? <TeamDisplay blobs={form.blobs} data={prefill} setTd={setTd}/> : <FormFactory blobs={form.blobs} prefill={prefill} fields={form.fields} defaults={dataDefaults} formPersistentStore={detailPersistentStore[id]} validator={teamValidator}/>}</div>)\n}\n\nconst DEBOUNCE_PERIOD = 100\n\nconst initialUpState = (index) => {\n  if (typeof index === \"number\" && index > 0) {\n    return false\n  }\n  return true\n}\n\nconst Leaderboard = ({setSelTab, heightProvider, transportPersistentStore}) => {\n  if (transportPersistentStore.initialized !== true) {\n    transportPersistentStore.initialized = true\n    transportPersistentStore.data = \"\"\n    transportPersistentStore.sort = null\n    transportPersistentStore.up = true\n  }\n  const rawRange = readRange()\n  const range = rawRange.rows\n  React.useEffect(() => {\n    const callbackID = registerCallback(rawValue => {\n      const value = rawValue.rows\n      myData.current = value\n      myRanker.current = ranker.makeRanker(value)\n      setData(myQuery.current !== \"\" ? myRanker.current(myQuery.current) : value)\n    })\n    return () => deregisterCallback(callbackID)\n  }, [])\n  const [search, setSearch] = React.useState(transportPersistentStore.data)\n  const last = React.useRef(null)\n  const myData = React.useRef(range)\n  const vRanker = ranker.makeRanker(range)\n  const myRanker = React.useRef(vRanker)\n  const myQuery = React.useRef(transportPersistentStore.data)\n  const [data, setData] = React.useState(transportPersistentStore.data !== \"\" ? vRanker(transportPersistentStore.data) : range)\n  const columns = rawRange.columns\n  const onChange = value => {\n    transportPersistentStore.data = value\n    setSearch(value)\n    transportPersistentStore.sort = null\n    setSort(null)\n    transportPersistentStore.up = true\n    setUp(true)\n    if (last.current !== null) {\n      clearTimeout(last.current)\n      last.current = null\n    }\n    last.current = setTimeout(() => {\n      myQuery.current = value\n      setData(value !== \"\" ? myRanker.current(value) : myData.current)\n      last.current = null\n    }, DEBOUNCE_PERIOD)\n  }\n  const barRef = React.useRef(null)\n  const [mySort, setSort] = React.useState(transportPersistentStore.sort)\n  const [isUp, setUp] = React.useState(transportPersistentStore.up)\n  const filteredData = React.useMemo(() => data.filter(x => x.status !== \"Hidden\"), [data])\n  const sortedData = React.useMemo(() => mySort === null ? filteredData : filteredData.map((x, index) => [x, index]).sort(([dx, ix], [dy, iy]) => {\n    const materializer = typeof sortMaterializers[mySort] === \"function\" ? sortMaterializers[mySort] : x => x\n    const x = materializer(dx[mySort])\n    const y = materializer(dy[mySort])\n    if (typeof x === typeof y && x !== y) {\n      if (typeof x === \"string\") {\n        for (var i = 0; i < Math.min(x.length, y.length); i++) {\n          const xc = x.charCodeAt(i)\n          const yc = y.charCodeAt(i)\n          if (xc !== yc) {\n            return xc-yc\n          }\n        }\n        return x.length - y.length\n      }\n      else if (typeof x === \"number\") {\n        return x-y\n      }\n    }\n    return ix-iy\n  }).map(([x, ix]) => x)\n  , [filteredData, mySort])\n  const reversedData = React.useMemo(() => isUp === true ? sortedData : [...sortedData].reverse(), [sortedData, isUp])\n  const sortOnClick = name => {\n    transportPersistentStore.data = \"\"\n    setSearch(\"\")\n    const set = name === mySort ? (isUp !== initialUpState(name) ? (transportPersistentStore.sort = null, setSort(null), true) : !initialUpState(name)) : (transportPersistentStore.sort = name, setSort(name), initialUpState(name))\n    transportPersistentStore.up = set\n    setUp(set)\n  }\n  React.useEffect(() => {\n    if (barRef.current === null) {\n      return\n    }\n    barRef.current.addEventListener(\"keyup\", e => {\n      if (e.charCode === 13 || e.key === \"Enter\") {\n        e.stopPropagation()\n      }\n    }, {capture: true})\n  }, [barRef])\n  return (\n    <div>\n      <div style={{height: \"12px\"}}/>\n      <div style={{marginLeft: \"12px\", marginRight: \"12px\"}}>\n        <div ref={barRef}>\n          <SearchBar\n            value={search}\n            onChange={onChange}\n            onCancelSearch={() => onChange(\"\")}\n            onRequestSearch={() => {}}\n            style={{margin: \"auto\", maxWidth: \"1000px\"}}\n            />\n        </div>\n      </div>\n      <div style={{height: \"12px\"}}/>\n      <Material.Paper square>\n        <ListFactory header={(<MyStickyHeader heightProvider={heightProvider}>{columns.map((x, index) => (<Material.TableCell key={index}><Material.TableSortLabel active={mySort === index} direction={(mySort === index ? !(isUp === false) : initialUpState(index)) ? \"asc\" : \"desc\"} onClick={() => sortOnClick(index)}>{x}</Material.TableSortLabel></Material.TableCell>))}</MyStickyHeader>)} data={reversedData} generator={x => transportItemGenerator(x, x[0], setSelTab)} style={TransportViewStyle}/>\n      </Material.Paper>\n    </div>\n  )\n}\n\nconst ANIMATION_TIME = 0.075\nconst TRANSITION_STRING = `all ${ANIMATION_TIME}s linear`\n\nconst synchronousAnimationProvider = (ref, onAnimationCollapse) => {\n  const processEnd = () => {\n    if (ref.current.getBoundingClientRect().width === 0) {\n      onAnimationCollapse()\n    }\n  }\n  ref.current.addEventListener(\"transitionend\", processEnd)\n  ref.current.addEventListener(\"transitioncancel\", processEnd)\n  const requestChange = (change) => {\n    if (change === \"expand\") {\n      ref.current.classList.remove(\"collapsed\")\n      ref.current.classList.add(\"expanded\")\n    }\n    else if (change === \"collapse\") {\n      ref.current.classList.remove(\"expanded\")\n      ref.current.classList.add(\"collapsed\")\n      processEnd()\n    }\n  }\n  return requestChange\n}\n\nconst AnimatedIcon = ({icon}) => {\n  const firstRender = React.useRef(true)\n  const synchronousIcon = React.useRef(icon)\n  const [displayedIcon, setIcon] = React.useState(icon)\n  const iconRef = React.useRef(null)\n  const currTarget = React.useRef(null)\n  const request = React.useRef(null)\n  React.useEffect(() => {\n    request.current = synchronousAnimationProvider(iconRef, () => {\n      if (currTarget.current !== null) {\n        const icon = currTarget.current\n        currTarget.current = null\n        synchronousIcon.current = icon\n        setIcon(icon)\n        request.current(\"expand\")\n      }\n    })\n  }, [iconRef])\n  React.useEffect(() => {\n    if (firstRender.current === true) {\n      firstRender.current = false\n      return\n    }\n    if (synchronousIcon.current === icon) {\n      currTarget.current = null\n      request.current(\"expand\")\n      return\n    }\n    currTarget.current = icon\n    request.current(\"collapse\")\n  }, [icon])\n  return (<Material.Icon ref={iconRef} style={{transition: TRANSITION_STRING}}>{displayedIcon === \"list\" ? (<CalendarTodayIcon/>) : (<ListIcon/>)}</Material.Icon>)\n}\n\nconst barSpacer = document.getElementById(\"barspacer\")\n\nconst MyStickyHeader = ({children, heightProvider: [currentHeight, heightListeners]}) => {\n  const headRef = React.useRef(null)\n  React.useEffect(() => {\n    const myListeners = heightListeners.current\n    var height = currentHeight.current\n    const capturedTop = headRef.current.getBoundingClientRect().top-barSpacer.getBoundingClientRect().bottom\n    const recomputeTop = () => {\n      const targetPosition = Math.max(window.scrollY+height-capturedTop, 0)\n      setTop(targetPosition)\n    }\n    recomputeTop()\n    const myIndex = myListeners.push(newHeight => {\n      height = newHeight\n      recomputeTop()\n    })-1\n    window.addEventListener(\"scroll\", recomputeTop)\n    return () => {\n      myListeners[myIndex] = ()=>{}\n      window.removeEventListener(\"scroll\", recomputeTop)\n    }\n  }, [currentHeight, heightListeners])\n  const [top, setTop] = React.useState(0)\n  return <Material.TableHead><Material.TableRow ref={headRef} style={{transform: \"translate(0,\"+top+\"px)\"}}>{children}</Material.TableRow></Material.TableHead>\n}\n\nconst TransportViewStyle = {\n  font: \"20px Arial, sans-serif\"\n}\n\nconst transportItemGenerator = (data, index, setSelTab) => {\n  return (\n    <Material.TableRow key={index} onClick={() => {\n      //addDetailTab(data, index)\n      //setSelTab(Infinity)\n    }}>\n      {data.map((x, index) => <Material.TableCell key={index}>{x}</Material.TableCell>)}\n    </Material.TableRow>\n  )\n}\n\nconst detailItemGenerator = (data, index) => {\n  return (\n    <Material.TableRow key={data.internalUID}>\n      <Material.TableCell>{data.name}</Material.TableCell>\n      <Material.TableCell>{data.startDateTime}</Material.TableCell>\n      <Material.TableCell>{data.endDateTime}</Material.TableCell>\n      <Material.TableCell>{data.origin}</Material.TableCell>\n      <Material.TableCell>{data.destination}</Material.TableCell>\n      <Material.TableCell>{data.POC}</Material.TableCell>\n      <Material.TableCell>{data.POCPhone}</Material.TableCell>\n      <Material.TableCell>{data.system === \"Civilian\" ? \"Civilian\" : \"Military\"}</Material.TableCell>\n      <Material.TableCell>{data.vehicles}</Material.TableCell>\n      <Material.TableCell>{data.notes}</Material.TableCell>\n    </Material.TableRow>\n  )\n}\n\nconst notificationItemGenerator = (data, index, key, setSelTab) => {\n  return (\n    <Material.TableRow key={key} onClick={() => {\n      addDetailTab(data, index)\n      setSelTab(Infinity)\n    }}><Material.TableCell style={notificationItemStyle(data.latest)} align=\"center\">{data.title}</Material.TableCell></Material.TableRow>\n  )\n}\n\nconst notificationItemStyle = (latest) => {\n  if (latest === false) {\n    return {\n      color: \"grey\"\n    }\n  }\n  else {\n    return {}\n  }\n}\n\nconst addDetailTab = (data, index) => {\n  addTab({type: \"detail\", params: [tabID, index]})\n  tabID++\n}\n\nconst addNewTab = (cloneID) => {\n  addTab({type: \"newindent\", params: [tabID, cloneID]})\n  tabID++\n}\n\nconst ListFactory = ({data, generator, style, header, tail}) => {\n  return (\n    <Material.TableContainer>\n      <Material.Table stickyHeader>\n        {header}\n        <Material.TableBody>\n          {data.map(generator)}\n        </Material.TableBody>\n        {tail}\n      </Material.Table>\n    </Material.TableContainer>\n  )\n}\n\nconst getCallbackSystem = (dataSource) => {\n\n  const registeredCallbacks = []\n\n  const registerCallback = (callback) => {\n    return registeredCallbacks.push(callback)-1\n  }\n\n  const deregisterCallback = (id) => {\n    if (id > -1 && id < registeredCallbacks.length) {\n      registeredCallbacks[id] = ()=>{}\n    }\n  }\n  \n  const notifyNewData = () => {\n    for (const callback of registeredCallbacks) {\n      callback(dataSource())\n    }\n  }\n\n  return [registerCallback, deregisterCallback, notifyNewData]\n}\n\nvar dataStore = {columns: [], rows: []}\n\nvar formStore = {fields: [{name: \"nickname\", initialData: \"\", friendlyName: \"Name\", fieldType: \"single\"}, {name: \"sar21\", initialData: null, friendlyName: \"Best SAR21\" ,fieldType: \"selectBlob\", blobName: \"Soldiers\", display: \"textPhoto\"}, {name: \"saw\", initialData: null, friendlyName: \"Best SAW\" ,fieldType: \"selectBlob\", blobName: \"Soldiers\", display: \"textPhoto\"}, {name: \"gpmg\", initialData: null, friendlyName: \"Best GPMG\" ,fieldType: \"selectBlob\", blobName: \"Soldiers\", display: \"textPhoto\"}], data: {}, blobs: {\"Soldiers\": [\n  {name: \"Alpha\", fullName: \"PTE 1\", friendlyName: \"Alpha - PTE 1\", photo: \"https://i.pinimg.com/originals/3e/37/24/3e3724692c15d28f12a4c7bc6fe0b945.jpg\"},\n  {name: \"Bravo\", fullName: \"PTE 2\", friendlyName: \"Bravo - PTE 2\", photo: \"https://scontent.fsin13-1.fna.fbcdn.net/v/t1.6435-9/64861023_2345584528868126_2696896092137586688_n.jpg?_nc_cat=107&ccb=1-5&_nc_sid=174925&_nc_ohc=kUjXJTOpnBwAX-aymIb&_nc_ht=scontent.fsin13-1.fna&oh=00_AT80RHyc6Z9aJrAh8nXipP93by8NOtWDXFiVM6iktKjBfg&oe=62306048\"},\n  {name: \"Charlie\", fullName: \"PTE 3\", friendlyName: \"Charlie - PTE 3\", photo: \"https://i.pinimg.com/280x280_RS/d2/ab/39/d2ab39788ec4254ab7761317448f5da3.jpg\"},\n  {name: \"Support\", fullName: \"PTE 4\", friendlyName: \"Support - PTE 4\", photo: \"https://c8.alamy.com/comp/D198EY/a-balinese-man-in-a-singapore-army-camo-shirt-D198EY.jpg\"},\n  {name: \"MSC\", fullName: \"PTE 5\", friendlyName: \"MSC - PTE 5\", photo: \"https://www.janes.com/images/default-source/news-images/fg_3808936-idr-9354.jpg?sfvrsn=b60dfede_2\"}\n]}}\n\nconst readNotifications = () => {\n  return notificationsStore\n}\n\nvar notificationsStore = []\n\nconst statuses = [\"Pending\", \"Submitted\", \"Recommended\", \"Confirmed\", \"Hidden\"]\n\nconst formFields = [{name: \"emailsNotify\", initialData: [], friendlyName: \"Email\", fieldType: \"multi\", persistent: true, optional: true}, {name: \"system\", initialData: \"Military\", friendlyName: \"Vehicle type\", fieldType: \"select\", options: [\"Military\", \"Civilian\"]}, {name: \"name\", initialData: \"\", friendlyName: \"Purpose\"}, {name: \"startDateTime\", initialData: \"\", friendlyName: \"Start time\", fieldType: \"datetime\"}, {name: \"endDateTime\", initialData: \"\", friendlyName: \"End time\", fieldType: \"datetime\"}, {name: \"origin\", initialData: \"\", friendlyName: \"Reporting location\"}, {name: \"destination\", initialData: \"\", friendlyName: \"Destination\"}, {name: \"POC\", initialData: \"\", friendlyName: \"Contact person\"}, {name: \"POCPhone\", initialData: \"\", friendlyName: \"Contact person number\"}, {name: \"vehicles\", initialData: \"\", friendlyName: \"Vehicles\"}, {name: \"notes\", initialData: \"\", friendlyName: \"Notes\", optional: true}]\n\nconst dataDefaults = [{name: \"addInfo\", initialData: \"\", friendlyName: \"Additional Info\", optional: true}, {name: \"status\", initialData: \"Pending\", friendlyName: \"Status\"}]\n\nconst detailFields = [...formFields.slice(2, -2), formFields[1], ...formFields.slice(-2)]\n\nconst displayFields = [...formFields.slice(2, -2), ...formFields.slice(-2), ...dataDefaults]\n\nconst fieldToFriendly = {}\n\nconst fieldAttributes = {}\n\nconst prefillConverters = {\n  \"startDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    date.setMinutes(date.getMinutes()-date.getTimezoneOffset())\n    return date.toISOString().substring(0, 16)\n  },\n  \"endDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    date.setMinutes(date.getMinutes()-date.getTimezoneOffset())\n    return date.toISOString().substring(0, 16)\n  }\n}\n\nconst sortMaterializers = {\n  \"startDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    return date.getTime()\n  },\n  \"endDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    return date.getTime()\n  }\n}\n\nfor (const description of [...formFields, ...dataDefaults]) {\n  fieldToFriendly[description.name] = description.friendlyName\n  fieldAttributes[description.name] = {persistent: description.persistent, optional: description.optional}\n}\n\nconst Tabs = ({childWrapper, childContext, children, selTab, setSelTab, appbarRef}) => {\n  const pre = [(<Material.Tab style={{opacity: 1, minWidth: 0, minHeight:0, padding: 0}} disableRipple selected label={<div style={{height: \"48px\", width: \"48px\"}}><img src={sir5logo} height=\"48px\" width=\"48px\"/></div>}/>), (<Material.Tab label={\"fantasy skill at arms\"} disableRipple/>)]\n  const post = []\n  const ChildWrapper = childWrapper\n  return (\n    <div>\n      <Material.AppBar title={<Material.Typography>Fantasy Skill at Arms</Material.Typography>} position=\"sticky\" style={{top: \"env(safe-area-inset-top)\"}} ref={appbarRef}>\n        <Material.Tabs variant=\"scrollable\" value={Math.min(selTab, children.length-1)+pre.length}>\n          {[...pre , ...children.map((child, index) => {\n            const obj = {...child.props, removeCallback: () => child.props.removeCallback(index, children.length), onClick: () => {setSelTab(index)}, active: index === Math.min(selTab, children.length-1), key: child.props.mykey}\n            return (<Tab {...obj}></Tab>)\n          }), ...post]}\n        </Material.Tabs>\n      </Material.AppBar>\n      <div>\n        <ChildWrapper childContext={childContext} mykey={children[Math.min(selTab, children.length-1)].props.mykey}>\n          {children[Math.min(selTab, children.length-1)]}\n        </ChildWrapper>\n      </div>\n    </div>\n  )\n}\n\nconst Tab = ({label, onClick, active, removable, removeCallback}) => {\n  return (\n    <Material.Tab style={{padding: 0}} disableRipple selected label={(<span><Material.Tab label={label} onClick={onClick} selected={active ? true : null}/>\n      {removable ? (<Material.IconButton size=\"small\" onClick={removeCallback}><Icons.Close style={{fill: \"red\"}}/></Material.IconButton>) : undefined}\n      </span>)}/>\n  )\n}\n\nconst TabCloseStyle = {\n  font: \"16px Arial, sans-serif\",\n  margin: \"auto\"\n}\n\nconst [registerCallback, deregisterCallback, notifyNewData] = getCallbackSystem(readRange)\n\nconst [registerForm, deregisterForm, notifyNewForm] = getCallbackSystem(readSubmitted)\n\nconst [registerNotify, deregisterNotify, notifyNewN] = getCallbackSystem(readNotifications)\n\nReactDOM.render(\n  <div style={{textAlign: \"center\"}}>\n    <App/>\n  </div>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}