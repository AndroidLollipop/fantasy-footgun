{"version":3,"sources":["searchRanker.js","resources/logo.jpg","resources/5sirlogo.jpg","index.js"],"names":["module","exports","makeRanker","data","run","idf","tf_","terms","trim","toLowerCase","split","tagcollection","i","length","tags","Object","values","map","x","toString","flat","adda","j","push","iks","keys","Math","log","computeTfIdfs","ret","term","sort","a","b","console","setTabs","socket","ranker","require","additionalTabs","tabID","addTab","tab","removeTab","id","filter","params","detailPersistentStore","undefined","ScrollWrapper","childContext","mykey","children","currKey","React","current","window","scrollY","scrollTo","scrollX","App","tabs","mySetTabs","socketIOClient","secure","on","indents","writeToken","ackWriteToken","pendingWrites","dataStore","reverse","notifyNewData","notifications","notificationsStore","notifyNewN","emit","disconnect","selTab","setSelTab","appbarRef","heightListeners","currentHeight","offsetHeight","listener","militaryPersistentStore","militaryFilter","system","civilianPersistentStore","civilianFilter","childScrollContext","childWrapper","label","heightProvider","transportPersistentStore","type","v","readDataStore","name","removable","removeCallback","index","currSelTab","min","details","cloneID","style","height","src","sir5logo","width","NotificationsPanel","myData","readNotifications","setData","callbackID","registerNotify","deregisterNotify","newData","encountered","internalUID","latest","square","generator","notificationItemGenerator","TransportViewStyle","DetailGenerator","edit","editData","alert","header","detailFields","friendlyName","detailItemGenerator","variant","onClick","addNewTab","Infinity","display","verticalAlign","formItemStyle","fullWidth","multiline","value","addInfo","onChange","event","target","InputLabelProps","shrink","maxWidth","native","status","statuses","val","writeDataStore","refresh","result","currWriteToken","write","myPromise","Promise","resolve","appendDataStore","readRange","newIndentValidator","authenticated","fmt","str","slice","sd","Date","startDateTime","ed","endDateTime","timeDelta","field","fieldAttributes","optional","fieldToFriendly","submitForm","validator","validated","FormFactory","prefill","fields","defaults","formPersistentStore","fieldStates","myPersistentStore","prefilledField","prefillConverter","prefillConverters","initialData","states","setStates","myStates","fieldType","options","initializeFields","initializedFields","submit","constitutedObject","text","fieldName","normalizer","normalizers","noValidate","setText","select","SelectProps","justifyContent","paddingLeft","paddingRight","paddingTop","paddingBottom","NewIndentView","dataDefaults","formFields","TransportView","initialized","up","view","selDate","setMinutes","getMinutes","getTimezoneOffset","toISOString","range","registerCallback","myRanker","myQuery","deregisterCallback","search","setSearch","last","vRanker","setView","setSort","setUp","clearTimeout","setTimeout","barRef","mySort","isUp","preFilteredData","filteredData","sortedData","dx","ix","dy","iy","materializer","sortMaterializers","y","xc","charCodeAt","yc","reversedData","setDate","myAppointment","restProps","backgroundColor","startDate","endDate","Appointment","obj","addDetailTab","addEventListener","e","charCode","key","stopPropagation","capture","marginLeft","marginRight","ref","onCancelSearch","onRequestSearch","margin","searchIcon","icon","displayFields","active","direction","set","sortOnClick","transportItemGenerator","title","defaultCurrentDate","onCurrentDateChange","date","appointmentComponent","TRANSITION_STRING","AnimatedIcon","firstRender","synchronousIcon","displayedIcon","setIcon","iconRef","currTarget","request","onAnimationCollapse","processEnd","getBoundingClientRect","change","classList","remove","add","synchronousAnimationProvider","transition","barSpacer","document","getElementById","MyStickyHeader","headRef","myListeners","capturedTop","top","bottom","recomputeTop","targetPosition","max","setTop","myIndex","newHeight","removeEventListener","transform","font","origin","destination","POC","POCPhone","vehicles","notes","notificationItemStyle","align","color","ListFactory","tail","stickyHeader","getCallbackSystem","dataSource","registeredCallbacks","callback","persistent","substring","getTime","description","Tabs","pre","opacity","minWidth","minHeight","padding","disableRipple","selected","appLogo","post","size","className","ChildWrapper","position","child","props","Tab","fill","ReactDOM","textAlign"],"mappings":"2GA8DAA,EAAOC,QAAU,CACfC,WAlCe,SAACC,GAChB,IAAIC,EAAM,EACNC,EAAM,GACNC,EAAM,GACV,OAAO,SAACC,GACFA,EAAQA,EAAMC,OAAOC,cAAcC,MAAM,SACxCN,KAnCW,SAACO,EAAeL,EAAKD,GAIvC,IAAK,IAAIO,EAAI,EAAGA,EAAID,EAAcE,OAAQD,IAAI,CAG5C,IAFA,IAAIE,EAAOC,OAAOC,OAAOL,EAAcC,IAAIK,KAAI,SAAAC,GAAC,OAAIA,EAAEC,WAAWX,OAAOC,cAAcC,MAAM,YAAUU,OAClGC,EAAO,GACFC,EAAI,EAAGA,EAAIR,EAAKD,OAAQS,IAC1BD,EAAKP,EAAKQ,MACRjB,EAAIS,EAAKQ,MACZjB,EAAIS,EAAKQ,IAAM,GAEjBjB,EAAIS,EAAKQ,MACTD,EAAKP,EAAKQ,IAAM,GAElBD,EAAKP,EAAKQ,KAAO,EAAER,EAAKD,OAE1BP,EAAIiB,KAAKF,GAEX,IAAMG,EAAMT,OAAOU,KAAKpB,GACxB,IAASO,EAAI,EAAGA,EAAIY,EAAIX,OAAQD,IAC1BP,EAAImB,EAAIZ,IACVP,EAAImB,EAAIZ,IAAMc,KAAKC,IAAIhB,EAAcE,OAAOR,EAAImB,EAAIZ,KAGpDP,EAAImB,EAAIZ,IAAM,EAWdgB,CAAczB,EAAMG,EAAKD,GACzBD,EAAM,GAGR,IADA,IAAIyB,EAAM,GACDjB,EAAI,EAAGA,EAAIT,EAAKU,OAAQD,IAC/BiB,EAAIN,KAAK,CAAC,EAAG,EAAGX,EAAGT,EAAKS,KAE1B,IAASA,EAAI,EAAGA,EAAIL,EAAMM,OAAQD,IAEhC,IADA,IAAIkB,EAAOvB,EAAMK,GACRU,EAAI,EAAGA,EAAInB,EAAKU,OAAQS,IAC3BhB,EAAIgB,GAAGQ,KACTD,EAAIP,GAAG,IAAMhB,EAAIgB,GAAGQ,GAAQzB,EAAIyB,GAChCD,EAAIP,GAAG,IAAMhB,EAAIgB,GAAGQ,IAW1B,OAPAD,EAAMA,EAAIE,MAAK,SAACC,EAAGC,GAEjB,IADA,IAAIrB,EAAI,EACFoB,EAAEpB,KAAOqB,EAAErB,IACfA,IAEF,OAAOoB,EAAEpB,GAAGqB,EAAErB,MACbK,KAAI,SAAAC,GAAC,OAAIA,EAAE,U,iUC1DH,MAA0B,iCCA1B,MAA0B,qC,sEC0BzCgB,QAAQP,IADe,WA43BvB,IAz3BA,IAIIQ,EAeAC,EAnBEC,EAASC,EAAQ,KAKnBC,EAAiB,GAEjBC,EADkB,EAEhBC,EAAS,SAACC,IACdH,EAAc,YAAOA,IACNhB,KAAKmB,GACpBP,EAAQI,IAEJI,EAAY,SAACC,GACjBL,EAAiB,YAAIA,GAAgBM,QAAO,SAAA3B,GAAC,OAAIA,EAAE4B,OAAO,KAAOF,KACjEG,GAAsBH,QAAMI,EAC5Bb,EAAQI,IAKJU,EAAgB,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACrCC,EAAUC,SAAaH,GAY7B,OAXIE,EAAQE,UAAYJ,GAA6B,OAApBE,EAAQE,UACvCL,EAAaK,QAAQF,EAAQE,SAAWC,OAAOC,QAC/CJ,EAAQE,QAAU,MAEpBD,mBAAsB,WACpBD,EAAQE,QAAUJ,OACkBH,IAAhCE,EAAaK,QAAQJ,KACvBD,EAAaK,QAAQJ,GAAS,GAEhCK,OAAOE,SAASF,OAAOG,QAAST,EAAaK,QAAQJ,MACpD,CAACA,EAAOE,IACJD,GAGHQ,EAAM,WAAO,IAAD,IAEQN,WAAe,IAFvB,mBAEXO,EAFW,KAELC,EAFK,KAGhB3B,EAAU2B,EACVR,aAAgB,WAqBd,OApBAlB,EAAS2B,IAxCG,+CAwCuB,CAACC,QAAQ,KACrCC,GAAG,eAAe,SAACC,EAASC,GACjC,QAAmBnB,IAAfmB,EAA0B,CAC5B,GAAIA,EAAaC,GACf,OAEFA,GAAgBD,OACkBnB,IAA9BqB,GAAcF,IAChBE,GAAcF,KAGlBG,GAAY,YAAIJ,GAASK,UACzBC,QAEFpC,EAAO6B,GAAG,qBAAqB,SAACQ,GAC9BC,GAAqB,YAAID,GAAeF,UACxCI,QAEFvC,EAAOwC,KAAK,iBAAkB,IAC9BxC,EAAOwC,KAAK,uBAAwB,IAC7B,WACLxC,EAAOyC,gBAER,IA5Ba,MA6BYvB,WAAe,GA7B3B,mBA6BTwB,EA7BS,KA6BDC,EA7BC,KA8BVC,EAAY1B,SAAa,MACzB2B,EAAkB3B,SAAa,IAC/B4B,EAAgB5B,SAAa,GAEnCA,aAAgB,WACd,GAAI0B,EAAUzB,QAAS,CACrB2B,EAAc3B,QAAUyB,EAAUzB,QAAQ4B,aADrB,oBAEEF,EAAgB1B,SAFlB,IAErB,2BAAgD,EAC9C6B,EAD8C,SACrCJ,EAAUzB,QAAQ4B,eAHR,kCAMtB,CAACH,EAAD,OAAYA,QAAZ,IAAYA,GAAZ,UAAYA,EAAWzB,eAAvB,aAAY,EAAoB4B,eAEnC,IAAME,EAA0B/B,SAAa,IACvCgC,EAAiBhC,WAAc,kBAAM,SAAApC,GAAC,MAAiB,aAAbA,EAAEqE,UAAuB,IACnEC,EAA0BlC,SAAa,IACvCmC,EAAiBnC,WAAc,kBAAM,SAAApC,GAAC,MAAiB,aAAbA,EAAEqE,UAAuB,IACnEG,EAAqBpC,SAAa,IAExC,OACE,gCACE,cAAC,GAAD,CAAMqC,aAAc1C,EAAeC,aAAcwC,EAAoBZ,OAAQA,EAAQC,UAAWA,EAAWC,UAAWA,EAAtH,UACK,qBAAKY,MAAM,WAA6BzC,MAAM,cAA9C,SACD,cAAC,GAAD,CAAe4B,UAAWA,EAAWc,eAAgB,CAACX,EAAeD,GAAkBa,yBAA0BT,EAAwB9B,QAASV,OAAQyC,KAD/H,eAG5B,qBAAKM,MAAM,WAA6BzC,MAAM,cAA9C,SACC,cAAC,GAAD,CAAe4B,UAAWA,EAAWc,eAAgB,CAACX,EAAeD,GAAkBa,yBAA0BN,EAAwBjC,QAASV,OAAQ4C,KADjI,eAG1B,qBAAKG,MAAM,aAA+BzC,MAAM,cAAhD,SACC,cAAC,GAAD,CAAeP,GAAI,KADQ,eAG5B,qBAAKgD,MAAM,gBAAkCzC,MAAM,cAAnD,SACC,cAAC,GAAD,CAAoB4B,UAAWA,KADD,gBAVlC,mBAYclB,EAAK5C,KAAI,WAAoBL,GAApB,IAAEmF,EAAF,EAAEA,KAAcC,EAAhB,EAAQlD,OAAR,MAAmC,WAATiD,EAAqB,cAAC,GAAD,CAAiBhB,UAAWA,EAAW5B,MAAO6C,EAAE,GAAIJ,MAAOK,GAAcD,EAAE,IAAIE,KAAMC,UAAU,OAAOC,eAAgB,SAACC,EAAOxF,GAChM8B,EAAUqD,EAAE,IACZ,IAAMM,EAAa5E,KAAK6E,IAAIzB,EAAQjE,EAAO,GACvCyF,EAAaD,GACftB,EAAUuB,EAAW,IAEtBE,QAASR,EAAcH,eAAgB,CAACX,EAAeD,IAAtCe,EAAE,IACX,cAATD,EAAwB,cAAC,GAAD,CAAeU,QAAST,EAAE,GAAI7C,MAAO6C,EAAE,GAAIJ,MAAM,aAAaO,UAAU,OAAOC,eAAgB,SAACC,EAAOxF,GAC/H8B,EAAUqD,EAAE,IACZ,IAAMM,EAAa5E,KAAK6E,IAAIzB,EAAQjE,EAAO,GACvCyF,EAAaD,GACftB,EAAUuB,EAAW,IAEtB1D,GAAIoD,EAAE,IAASA,EAAE,IAAU,+BAEhC,qBAAKU,MAAO,CAACC,OAAQ,UACrB,qBAAKC,IAAKC,EAAUC,MAAM,cAK1BC,GAAqB,SAAC,GAAiB,IAAhBhC,EAAe,EAAfA,UACvBiC,EAASC,KAD6B,EAElB3D,WAAe0D,GAFG,mBAE7BE,GAF6B,WAG1C5D,aAAgB,WACd,IAAM6D,EAAaC,GAAeF,GAClC,OAAO,kBAAMG,GAAiBF,MAC7B,IAGH,IAFA,IAAIG,EAAU,GACRC,EAAc,GACX3G,EAAI,EAAGA,EAAIoG,EAAOnG,OAAQD,KACU,IAAvC2G,EAAYP,EAAOpG,GAAG4G,aACxBF,EAAQ/F,KAAR,2BAAiByF,EAAOpG,IAAxB,IAA4B6G,QAAQ,KAGpCH,EAAQ/F,KAAR,2BAAiByF,EAAOpG,IAAxB,IAA4B6G,QAAQ,KAEtCF,EAAYP,EAAOpG,GAAG4G,cAAe,EAEvC,OACE,gCACE,qBAAKd,MAAO,CAACC,OAAQ,UACrB,cAAC,IAAD,CAAgBe,QAAM,EAAtB,SACE,cAAC,GAAD,CAAavH,KAAMmH,EAASK,UAAW,SAACzG,EAAGmF,GAAJ,OAAcuB,GAA0B1G,EAAGA,EAAEsG,YAAa,GAAGtG,EAAEsG,YAAYnB,EAAOtB,IAAY2B,MAAOmB,WAM9I9E,GAAwB,GAExB+E,GAAkB,SAAC,GAA0C,IAAzC/C,EAAwC,EAAxCA,UAAWyB,EAA6B,EAA7BA,QAASX,EAAoB,EAApBA,eAAoB,cAC5CW,EAD4C,GACzD5D,EADyD,KACrDyD,EADqD,UAE9BrD,IAA9BD,GAAsBH,KACxBG,GAAsBH,GAAMqD,GAAcI,IAHoB,MAKxC/C,WAAeP,GAAsBH,IALG,mBAKzDzC,EALyD,KAKnD+G,EALmD,KAM1Da,EAAI,uCAAG,sBAAA/F,EAAA,sEACUgG,GAAS3B,EAAOtD,GAAsBH,IADhD,QAEI,IAFJ,QAGTqF,MAAM,8BAHG,2CAAH,qDAMV,OACA,gCACE,qBAAKvB,MAAO,CAACC,OAAO,UACpB,cAAC,IAAD,CAAgBe,QAAM,EAAtB,SACE,cAAC,GAAD,CAAaQ,OAAS,cAAC,GAAD,CAAgBrC,eAAgBA,EAAhC,SAAiDsC,GAAalH,KAAI,SAACC,EAAGmF,GAAJ,OAAe,cAAC,IAAD,UAAiCnF,EAAEkH,cAAV/B,QAAmElG,KAAM,CAACA,GAAOwH,UAAW,SAAAzG,GAAC,OAAImH,GAAoBnH,EAAGA,EAAEsG,cAAcd,MAAOmB,OAEjR,qBAAKnB,MAAO,CAACC,OAAO,UACpB,cAAC,IAAD,CAAiB2B,QAAQ,WAAWC,QAAS,WAC3CC,GAAUrI,EAAKqH,aACfzC,EAAU0D,MAFZ,kBAIA,qBAAK/B,MAAO,CAACC,OAAO,UACpB,8BACE,qBAAKD,MAAO,CAACgC,QAAQ,SAAUC,cAAc,UAA7C,SACE,qBAAKjC,MAAOkC,GAAZ,SACE,cAAC,IAAD,CAAoBC,WAAW,EAAMC,WAAS,EAAClD,MAAO,kBAAmB0C,QAAQ,WAAWS,MAAO5I,EAAK6I,QAASC,SAAU,SAACC,GAC1HnG,GAAsBH,GAAtB,2BAAgCG,GAAsBH,IAAtD,IAA2DoG,QAASE,EAAMC,OAAOJ,QACjF7B,EAAQnE,GAAsBH,KAC7BwG,gBAAiB,CAACC,QAAQ,GAAQ3C,MAAO,CAAC4C,SAAU,kBAI7D,qBAAK5C,MAAO,CAACC,OAAO,UACpB,gCACE,qBAAKD,MAAO,CAACgC,QAAQ,SAAUC,cAAc,UAA7C,SACE,cAAC,IAAD,CAAiBL,QAAQ,WAAWiB,QAAM,EAACR,MAAO5I,EAAKqJ,OAAQP,SAAU,SAACC,GACxEnG,GAAsBH,GAAtB,2BAAgCG,GAAsBH,IAAtD,IAA2D4G,OAAQN,EAAMC,OAAOJ,QAChF7B,EAAQnE,GAAsBH,KAFhC,SAIC6G,GAASxI,KAAI,SAACyI,EAAKrD,GAAN,OAAiB,wBAAoB0C,MAAOW,EAA3B,SAAiCA,GAApBrD,UAG9C,qBAAKK,MAAO,CAACgC,QAAQ,eAAgB5B,MAAM,SAC3C,qBAAKJ,MAAO,CAACgC,QAAQ,SAAUC,cAAc,UAA7C,SACE,cAAC,IAAD,CAAiBL,QAAQ,WAAWC,QAASR,EAA7C,2BAOFC,GAAQ,uCAAG,WAAO3B,EAAOiB,GAAd,eAAAtF,EAAA,sEACO2H,GAAetD,EAAOiB,GAD7B,cACTsC,EADS,SAGbpF,KAHa,kBAKRoF,GALQ,2CAAH,wDAQR3D,GAAgB,SAACuB,GACrB,IAAMqC,EAASvF,GAAUzB,QAAO,SAAA3B,GAAC,OAAIA,EAAEsG,cAAgBA,KACvD,OAAsB,IAAlBqC,EAAOhJ,YACT,EAGOgJ,EAAO,IAIdzF,GAAgB,EAChB0F,GAAiB,EACjBzF,GAAgB,GAEdsF,GAAc,uCAAG,WAAOnC,EAAauC,GAApB,iBAAA/H,EAAA,6DACrB8H,KAEME,EAAY,IAAIC,SAAQ,SAAAjE,GAAC,OAAIkE,EAAQlE,KAC3C3B,GAAcyF,IAAkBI,EAChC9H,EAAOwC,KAAK,iBAAkB,CAAC4C,EAAauC,EAAOD,KAL9B,SAMfE,EANe,UAOjBF,KAAmB1F,GAPF,2CAQZ,GARY,kCAWZ,GAXY,4CAAH,wDAed+F,GAAe,uCAAG,WAAOJ,GAAP,iBAAA/H,EAAA,6DACtB8H,KAEME,EAAY,IAAIC,SAAQ,SAAAjE,GAAC,OAAIkE,EAAQlE,KAC3C3B,GAAcyF,IAAkBI,EAChC9H,EAAOwC,KAAK,kBAAmB,CAACmF,EAAOD,KALjB,SAMhBE,EANgB,UAOlBF,KAAmB1F,GAPD,2CAQb,GARa,kCAWb,GAXa,4CAAH,sDAefgG,GAAY,WAChB,OAAO9F,IAGH+F,GAAqB,SAAClK,EAAMmK,GAChC,IAAM/E,EAASpF,EAAKoF,OACdgF,EAAM,SAAAC,GAAG,OAAIA,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KACpFC,EAAKhJ,KAAK6E,IAAI,IAAIoE,KAAKJ,EAAIpK,EAAKyK,iBACtC,GAAIF,IAAOA,EACT,MAAO,CAAC,SAAU,4BAEpB,IAAMG,EAAKnJ,KAAK6E,IAAI,IAAIoE,KAAKJ,EAAIpK,EAAK2K,eACtC,GAAID,IAAOA,EACT,MAAO,CAAC,SAAU,0BAEpB,GAAIA,GAAMH,EACR,MAAO,CAAC,SAAU,qCAEpB,IAAMK,EAAYrJ,KAAK6E,IAAImE,GAAIjC,IAAUoC,GAAIpC,KAAW,IAAIkC,KAC5D,IAAiB,aAAXpF,GAAyBwF,EAAY,SAAeA,EAAY,SAAgC,IAAlBT,EAClF,MAAO,CAAC,eAAgB,0FAE1B,IAAK,IAAMU,KAAS7K,EAClB,IAAwC,IAApC8K,GAAgBD,GAAOE,WAA6C,kBAAhB/K,EAAK6K,IAA8C,KAAvB7K,EAAK6K,GAAOxK,QAC9F,YAA+BwC,IAA3BmI,GAAgBH,GACX,CAAC,SAAUG,GAAgBH,GAAS,oBAEtC,CAAC,SAAU,yBAGtB,MAAO,CAAC,YAGJI,GAAU,uCAAG,WAAOjL,EAAMkL,EAAWf,GAAxB,eAAAtI,EAAA,yDACQ,oBAAdqJ,EADM,mBAGM,aADfC,EAAYD,EAAUlL,EAAMmK,IACpB,GAHC,yCAINgB,GAJM,uBAOKnB,GAAgBhK,GAPrB,0CASfqE,KATe,kBAUR,CAAC,YAVO,iCAYV,CAAC,YAZS,4CAAH,0DAeV+G,GAAc,SAAC,GAAiE,IAAhEC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,OAAQC,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,oBAAqBN,EAAe,EAAfA,UAChEO,EAAc,GACdC,OAA4C7I,IAAxB2I,EAAoC,GAAKA,OAClC3I,IAA3B6I,EAAkB1L,OACpB0L,EAAkB1L,KAAOsL,EAAOxK,KAAI,SAAAC,GAClC,GAAuB,kBAAZsK,EAAsB,CAC/B,IAAMM,EAAiBN,EAAQtK,EAAEgF,MACjC,QAAuBlD,IAAnB8I,EAA8B,CAChC,IAAMC,EAAmBC,GAAkB9K,EAAEgF,MAC7C,MAAgC,oBAArB6F,EACFA,EAAiBD,GAEnBA,GAGX,OAAO5K,EAAE+K,gBAKb,IApBmF,MAkBvD3I,WAAeuI,EAAkB1L,MAlBsB,mBAkB5E+L,EAlB4E,KAkBpEC,EAlBoE,KAmB/EC,EAAWF,EAnBoE,aAqBjF,IAAMtL,EAAIyF,EACJ2E,EAAQS,EAAO7K,GACrBgL,EAAYrK,KAAK,CAAC2K,EAAOtL,GAAI,SAAAM,IAC3BkL,EAAQ,YAAOA,IACNxL,GAAKM,EACd2K,EAAkB1L,KAAOiM,EACzBD,EAAUC,IACVpB,EAAMiB,YAAajB,EAAM9E,KAAM8E,EAAM5C,aAAc4C,EAAMqB,UAAWrB,EAAMsB,WARrEjG,EAAQ,EAAGA,EAAQoF,EAAO5K,OAAQwF,IAAU,IAUrD,IAAMkG,EAAmB,WACvB,IAAMC,EAAoBf,EAAOxK,KAAI,SAAAC,GAAC,OAAIA,EAAE+K,eAC5CJ,EAAkB1L,KAAOqM,EACzBL,EAAUK,IAENC,EAAM,uCAAG,WAAOnC,GAAP,+CAAAtI,EAAA,sDACT0K,EAAoB,GADX,cAEqBhB,GAFrB,IAEb,2BAA6C,EAAD,QAAhCxF,EAAgC,EAAhCA,KAAM+F,EAA0B,EAA1BA,YAChBS,EAAkBxG,GAAQ+F,EAHf,4CAKkEL,GALlE,IAKb,2BAA6F,EAAD,uBAAhFe,EAAgF,eAApDC,EAAoD,UAA3BP,EAA2B,KACpFQ,EAAaC,GAAYT,GAC/BK,EAAkBE,GAAaC,EAAaA,EAAWF,GAAQA,EAPpD,8CASkBvB,GAAWsB,EAAmBrB,EAAWf,GAT3D,mCASNT,EATM,KASE/G,EATF,KAUE,YAAX+G,GACF5B,MAAM,kCACNsE,KAEkB,WAAX1C,EACP5B,MAAMnF,GAEY,iBAAX+G,GACP5B,MAAM,oBAlBK,4CAAH,sDAqBZ,OACA,uBAAM8E,YAAU,EAAhB,UACA,8BACCnB,EAAY3K,KAAI,WAA4EoF,GAAW,IAAD,qBAApFsG,EAAoF,KAA9EK,EAA8E,KAA7C5E,GAA6C,gBAA/BiE,EAA+B,KAApBC,EAAoB,KACrG,OACE,qBAAK5F,MAAOkC,GAAZ,SACe,aAAdyD,EACA,cAAC,IAAD,CACCzJ,GAAG,iBACHiG,WAAW,EACXjD,MAAOwC,EACPrC,KAAK,iBACLuC,QAAQ,WACRS,MAAO4D,EACP1D,SAAU,SAACC,GAAD,OAAW8D,EAAQ9D,EAAMC,OAAOJ,QAC1CK,gBAAiB,CACfC,QAAQ,GAEV3C,MAAO,CAAC4C,SAAU,YAEL,WAAd+C,EACA,cAAC,IAAD,CACDxD,WAAW,EACXoE,QAAM,EACNrH,MAAOwC,EACPE,QAAQ,WACRS,MAAO4D,EACPO,YAAa,CACX3D,QAAQ,GAEVN,SAAU,SAACC,GAAD,OAAW8D,EAAQ9D,EAAMC,OAAOJ,QAC1CK,gBAAiB,CACfC,QAAQ,GAEV3C,MAAO,CAAC4C,SAAU,UAbjB,SAeAgD,EAAQrL,KAAI,SAACyI,EAAKrD,GAAN,OAAiB,wBAAoB0C,MAAOW,EAA3B,SAAiCA,GAApBrD,QAE5B,UAAdgG,EACA,cAAC,IAAD,CACDxD,WAAW,EACXC,WAAS,EACTlD,MAAOwC,EACPE,QAAQ,WACRS,MAAK,UAAE4D,EAAK,UAAP,QAAa,GAClB1D,SAAU,SAACC,GAAD,OAAW8D,EAAQ,CAAC9D,EAAMC,OAAOJ,SAC3CK,gBAAiB,CACfC,QAAQ,GAEV3C,MAAO,CAAC4C,SAAU,YAChB,cAAC,IAAD,CAAoBT,WAAW,EAAMC,WAAS,EAAClD,MAAOwC,EAAcE,QAAQ,WAAWS,MAAO4D,EAAM1D,SAAU,SAACC,GAAD,OAAW8D,EAAQ9D,EAAMC,OAAOJ,QAAQK,gBAAiB,CAACC,QAAQ,GAAQ3C,MAAO,CAAC4C,SAAU,aA7C5KjD,QAmDpC,cAAC,IAAD,CAAiBiC,QAAQ,WAAWC,QAASkE,EAA7C,wBAKIK,GAAc,CAClB,SAAY,SAAA5L,GACV,IACE,GAAIA,EAAEL,OAAS,EACb,OAAOK,EAAEuJ,MAAM,EAAG,IAAM,IAAMvJ,EAAEuJ,MAAM,EAAG,GAAK,IAAMvJ,EAAEuJ,MAAM,EAAG,GAAK,IAAMvJ,EAAEuJ,MAAM,GAAI,IAG1F,UAEA,OAAOvJ,IAIL0H,GAAgB,CACpBF,QAAS,OACTyE,eAAgB,SAChBC,YAAa,OACbC,aAAc,OACdC,WAAY,MACZC,cAAe,OAGXC,GAAgB,SAAC,GAAmB,IAAlB5K,EAAiB,EAAjBA,GAAI6D,EAAa,EAAbA,aACQzD,IAA9BD,GAAsBH,KACxBG,GAAsBH,GAAM,IAE9B,IAAM4I,EAAUlI,WAAc,uBAAkBN,IAAZyD,EAAwBR,GAAcQ,QAAWzD,IAAW,CAACyD,EAASgH,KAC1G,OAAQ,sBAAK/G,MAAOmB,GAAZ,UAAgC,qBAAKnB,MAAO,CAACC,OAAQ,UAAU,cAAC,GAAD,CAAa6E,QAASA,EAASC,OAAQiC,GAAYhC,SAAU+B,GAAc9B,oBAAqB5I,GAAsBH,GAAKyI,UAAWhB,SAoCzMsD,GAAgB,SAAC,GAAmE,IAOlDzM,EAPhB6D,EAAiE,EAAjEA,UAAWc,EAAsD,EAAtDA,eAAgBC,EAAsC,EAAtCA,yBAA0BjD,EAAY,EAAZA,QAC9B,IAAzCiD,EAAyB8H,cAC3B9H,EAAyB8H,aAAc,EACvC9H,EAAyB3F,KAAO,GAChC2F,EAAyB/D,KAAO,KAChC+D,EAAyB+H,IAAK,EAC9B/H,EAAyBgI,KAAO,OAChChI,EAAyBiI,SAAW7M,EAA8D,IAAIyJ,KAA5DzJ,EAAE8M,WAAW9M,EAAE+M,aAAa/M,EAAEgN,qBAAsBhN,GAAgBiN,cAAc1D,MAAM,EAAG,KAEvI,IAAM2D,EAAQhE,KACd9G,aAAgB,WACd,IAAM6D,EAAakH,IAAiB,SAAAtF,GAClC/B,EAAOzD,QAAUwF,EACjBuF,EAAS/K,QAAUlB,EAAOnC,WAAW6I,GACrC7B,EAA4B,KAApBqH,EAAQhL,QAAiB+K,EAAS/K,QAAQgL,EAAQhL,SAAWwF,MAEvE,OAAO,kBAAMyF,GAAmBrH,MAC/B,IAjBoF,MAkB3D7D,WAAewC,EAAyB3F,MAlBmB,mBAkBhFsO,EAlBgF,KAkBxEC,EAlBwE,KAmBjFC,EAAOrL,SAAa,MACpB0D,EAAS1D,SAAa8K,GACtBQ,EAAUvM,EAAOnC,WAAWkO,GAC5BE,EAAWhL,SAAasL,GACxBL,EAAUjL,SAAawC,EAAyB3F,MAvBiC,EAwB/DmD,WAAiD,KAAlCwC,EAAyB3F,KAAcyO,EAAQ9I,EAAyB3F,MAAQiO,GAxBhC,mBAwBhFjO,EAxBgF,KAwB1E+G,EAxB0E,KAyBjF+B,EAAW,SAAAF,GACfjD,EAAyB3F,KAAO4I,EAChC2F,EAAU3F,GACVjD,EAAyBgI,KAAO,OAChCe,EAAQ,QACR/I,EAAyB/D,KAAO,KAChC+M,EAAQ,MACRhJ,EAAyB+H,IAAK,EAC9BkB,GAAM,GACe,OAAjBJ,EAAKpL,UACPyL,aAAaL,EAAKpL,SAClBoL,EAAKpL,QAAU,MAEjBoL,EAAKpL,QAAU0L,YAAW,WACxBV,EAAQhL,QAAUwF,EAClB7B,EAAkB,KAAV6B,EAAeuF,EAAS/K,QAAQwF,GAAS/B,EAAOzD,SACxDoL,EAAKpL,QAAU,OA1EG,MA6EhB2L,EAAS5L,SAAa,MA5C2D,EA6C7DA,WAAewC,EAAyB/D,MA7CqB,mBA6ChFoN,EA7CgF,KA6CxEL,EA7CwE,OA8CjExL,WAAewC,EAAyB+H,IA9CyB,mBA8ChFuB,EA9CgF,KA8C1EL,EA9C0E,KA+CjFM,EAAkB/L,WAAc,kBAAMnD,EAAK0C,QAAO,SAAA3B,GAAC,MAAiB,WAAbA,EAAEsI,YAAsB,CAACrJ,IAChFmP,EAAehM,WAAc,kBAAM+L,EAAgBxM,OAAOA,KAAS,CAACwM,EAAiBxM,IACrF0M,EAAajM,WAAc,kBAAiB,OAAX6L,EAAkBG,EAAeA,EAAarO,KAAI,SAACC,EAAGmF,GAAJ,MAAc,CAACnF,EAAGmF,MAAQtE,MAAK,cAAyB,IAAD,mBAAtByN,EAAsB,KAAlBC,EAAkB,wBAAZC,EAAY,KAARC,EAAQ,KACxIC,EAAoD,oBAA9BC,GAAkBV,GAAyBU,GAAkBV,GAAU,SAAAjO,GAAC,OAAIA,GAClGA,EAAI0O,EAAaJ,EAAGL,IACpBW,EAAIF,EAAaF,EAAGP,IAC1B,UAAWjO,WAAa4O,GAAK5O,IAAM4O,EAAG,CACpC,GAAiB,kBAAN5O,EAAgB,CACzB,IAAK,IAAIN,EAAI,EAAGA,EAAIc,KAAK6E,IAAIrF,EAAEL,OAAQiP,EAAEjP,QAASD,IAAK,CACrD,IAAMmP,EAAK7O,EAAE8O,WAAWpP,GAClBqP,EAAKH,EAAEE,WAAWpP,GACxB,GAAImP,IAAOE,EACT,OAAOF,EAAGE,EAGd,OAAO/O,EAAEL,OAASiP,EAAEjP,OAEjB,GAAiB,kBAANK,EACd,OAAOA,EAAE4O,EAGb,OAAOL,EAAGE,KACT1O,KAAI,mCAAEC,EAAF,iBAAaA,OAClB,CAACoO,EAAcH,IACXe,EAAe5M,WAAc,kBAAe,IAAT8L,EAAgBG,EAAa,YAAIA,GAAYhL,YAAW,CAACgL,EAAYH,IAvEvB,EA+E/D9L,WAAewC,EAAyBgI,MA/EuB,mBA+EhFA,EA/EgF,KA+E1Ee,EA/E0E,OAgF5DvL,WAAewC,EAAyBiI,SAhFoB,mBAgFhFA,EAhFgF,KAgFvEoC,GAhFuE,KAiFjFC,GAAgB9M,WAAc,kBAhHlB,SAACyB,GAAD,OAAe,YAAqC,IAAnC5E,EAAkC,EAAlCA,KAAMiD,EAA4B,EAA5BA,SAAaiN,EAAe,mCAC/D9K,EAASpF,EAAKoF,OAChB+K,EAAkB,OACtB,GAAoB,cAAhBnQ,EAAKqJ,OACP8G,EAAkB,aAEf,GAAoB,gBAAhBnQ,EAAKqJ,OACZ8G,EAAkB,sBAEf,CACH,IAAMvF,EAAYrJ,KAAK6E,IAAI7E,KAAK6E,IAAI,IAAIoE,KAAKxK,EAAKoQ,aAAa9H,IAAU/G,KAAK6E,IAAI,IAAIoE,KAAKxK,EAAKqQ,WAAW/H,KAAW,IAAIkC,KAC1G,aAAXpF,GAAyBwF,EAAY,SAAeA,EAAY,MACnEuF,EAAkB,OAEC,aAAX/K,GAAyBwF,EAAY,SAAeA,EAAY,WACxEuF,EAAkB,oBAGtB,OAAQ,cAAC,IAAaG,YAAd,2BACFJ,GADE,IAENlQ,KAAMA,EACNoI,QAAS,SAAAmI,GACPC,QAAa3N,EAAW0N,EAAIvQ,KAAKqH,aACjCzC,EAAU0D,MAEZ/B,MAAO,CAAC4J,gBAAiBA,GAPnB,SASLlN,MAqFuCqN,CAAY1L,KAAY,CAACA,IAWnE,OAVAzB,aAAgB,WACS,OAAnB4L,EAAO3L,SAGX2L,EAAO3L,QAAQqN,iBAAiB,SAAS,SAAAC,GACpB,KAAfA,EAAEC,UAA6B,UAAVD,EAAEE,KACzBF,EAAEG,oBAEH,CAACC,SAAS,MACZ,CAAC/B,IAEF,gCACE,qBAAKxI,MAAO,CAACC,OAAQ,UACrB,qBAAKD,MAAO,CAACwK,WAAY,OAAQC,YAAa,QAA9C,SACE,qBAAKC,IAAKlC,EAAV,SACE,cAAC,IAAD,CACEnG,MAAO0F,EACPxF,SAAUA,EACVoI,eAAgB,kBAAMpI,EAAS,KAC/BqI,gBAAiB,WACF,SAATxD,GACFhI,EAAyBgI,KAAO,WAChCe,EAAQ,cAGR/I,EAAyBgI,KAAO,OAChCe,EAAQ,UAGZnI,MAAO,CAAC6K,OAAQ,OAAQjI,SAAU,UAClCkI,WAAY,cAAC,GAAD,CAAcC,KAAM3D,UAItC,qBAAKpH,MAAO,CAACC,OAAQ,UACrB,cAAC,IAAD,CAAgBe,QAAM,EAAtB,SACY,SAAToG,EAAmB,cAAC,GAAD,CAAa5F,OAAS,cAAC,GAAD,CAAgBrC,eAAgBA,EAAhC,SAAiD6L,GAAczQ,KAAI,SAACC,EAAGmF,GAAJ,OAAe,cAAC,IAAD,UAAgC,cAAC,IAAD,CAAyBsL,OAAQxC,IAAWjO,EAAEgF,KAAM0L,UAAWzC,IAAWjO,EAAEgF,OAAiB,IAATkJ,EAAiB,OAAS,MAAO7G,QAAS,kBA9C5Q,SAAArC,GAClBJ,EAAyB3F,KAAO,GAChCuO,EAAU,IACV,IAAMmD,EAAM3L,IAASiJ,GAAmB,IAATC,IAAkBtJ,EAAyB/D,KAAO,KAAM+M,EAAQ,OAAO,IAAkBhJ,EAAyB/D,KAAOmE,EAAM4I,EAAQ5I,IAAO,GAC7KJ,EAAyB+H,GAAKgE,EAC9B9C,EAAM8C,GAyC8RC,CAAY5Q,EAAEgF,OAAlJ,SAA0JhF,EAAEkH,gBAAnK/B,QAAsPlG,KAAM+P,EAAcvI,UAAW,SAAAzG,GAAC,OAAI6Q,GAAuB7Q,EAAGA,EAAEsG,YAAazC,IAAY2B,MAAOmB,KACxe,eAAC,IAAD,CAAW1H,KAAMmP,EAAarO,KAAI,SAAAC,GACnC,IAAMqJ,EAAM,SAAAC,GAAG,OAAIA,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KAC1F,MAAO,CACL8F,UAAWhG,EAAIrJ,EAAE0J,eACjB4F,QAASjG,EAAIrJ,EAAE4J,aACfkH,MAAO9Q,EAAEgF,KACTsB,YAAatG,EAAEsG,YACfgC,OAAQtI,EAAEsI,OACVjE,OAAQrE,EAAEqE,WARX,UAWD,cAAC,IAAD,CAAW0M,mBAAoBlE,EAASmE,oBAAqB,SAAAC,GAC3DrM,EAAyBiI,QAAUoE,EACnChC,GAAQgC,MAEV,cAAC,IAAD,IACA,cAAC,IAAD,CACEC,qBAAsBhC,KAExB,cAAC,IAAD,IACA,cAAC,IAAD,aAQJiC,GAAiB,cADA,KACA,YAwBjBC,GAAe,SAAC,GAAY,IAAXb,EAAU,EAAVA,KACfc,EAAcjP,UAAa,GAC3BkP,EAAkBlP,SAAamO,GAFN,EAGEnO,WAAemO,GAHjB,mBAGxBgB,EAHwB,KAGTC,EAHS,KAIzBC,EAAUrP,SAAa,MACvBsP,EAAatP,SAAa,MAC1BuP,EAAUvP,SAAa,MAyB7B,OAxBAA,aAAgB,WACduP,EAAQtP,QA9ByB,SAAC6N,EAAK0B,GACzC,IAAMC,EAAa,WACiC,IAA9C3B,EAAI7N,QAAQyP,wBAAwBlM,OACtCgM,KAgBJ,OAbA1B,EAAI7N,QAAQqN,iBAAiB,gBAAiBmC,GAC9C3B,EAAI7N,QAAQqN,iBAAiB,mBAAoBmC,GAC3B,SAACE,GACN,WAAXA,GACF7B,EAAI7N,QAAQ2P,UAAUC,OAAO,aAC7B/B,EAAI7N,QAAQ2P,UAAUE,IAAI,aAER,aAAXH,IACP7B,EAAI7N,QAAQ2P,UAAUC,OAAO,YAC7B/B,EAAI7N,QAAQ2P,UAAUE,IAAI,aAC1BL,MAcgBM,CAA6BV,GAAS,WACtD,GAA2B,OAAvBC,EAAWrP,QAAkB,CAC/B,IAAMkO,EAAOmB,EAAWrP,QACxBqP,EAAWrP,QAAU,KACrBiP,EAAgBjP,QAAUkO,EAC1BiB,EAAQjB,GACRoB,EAAQtP,QAAQ,gBAGnB,CAACoP,IACJrP,aAAgB,WACd,IAA4B,IAAxBiP,EAAYhP,QAAhB,CAIA,GAAIiP,EAAgBjP,UAAYkO,EAG9B,OAFAmB,EAAWrP,QAAU,UACrBsP,EAAQtP,QAAQ,UAGlBqP,EAAWrP,QAAUkO,EACrBoB,EAAQtP,QAAQ,iBATdgP,EAAYhP,SAAU,IAUvB,CAACkO,IACI,cAAC,IAAD,CAAeL,IAAKuB,EAASjM,MAAO,CAAC4M,WAAYjB,IAAjD,SAAwF,SAAlBI,EAA4B,cAAC,IAAD,IAAyB,cAAC,IAAD,OAG/Hc,GAAYC,SAASC,eAAe,aAEpCC,GAAiB,SAAC,GAAkE,IAAjEtQ,EAAgE,EAAhEA,SAAgE,gBAAtDyC,eAAsD,GAArCX,EAAqC,KAAtBD,EAAsB,KACjF0O,EAAUrQ,SAAa,MAC7BA,aAAgB,WACd,IAAMsQ,EAAc3O,EAAgB1B,QAChCoD,EAASzB,EAAc3B,QACrBsQ,EAAcF,EAAQpQ,QAAQyP,wBAAwBc,IAAIP,GAAUP,wBAAwBe,OAC5FC,EAAe,WACnB,IAAMC,EAAiBvS,KAAKwS,IAAI1Q,OAAOC,QAAQkD,EAAOkN,EAAa,GACnEM,EAAOF,IAETD,IACA,IAAMI,EAAUR,EAAYrS,MAAK,SAAA8S,GAC/B1N,EAAS0N,EACTL,OACC,EAEH,OADAxQ,OAAOoN,iBAAiB,SAAUoD,GAC3B,WACLJ,EAAYQ,GAAW,aACvB5Q,OAAO8Q,oBAAoB,SAAUN,MAEtC,CAAC9O,EAAeD,IApBoE,MAqBjE3B,WAAe,GArBkD,mBAqBhFwQ,EArBgF,KAqB3EK,EArB2E,KAsBvF,OAAO,cAAC,IAAD,UAAoB,cAAC,IAAD,CAAmB/C,IAAKuC,EAASjN,MAAO,CAAC6N,UAAW,eAAeT,EAAI,OAAvE,SAAgF1Q,OAGvGyE,GAAqB,CACzB2M,KAAM,0BAGFzC,GAAyB,SAAC5R,EAAMkG,EAAOtB,GAC3C,IAAMQ,EAAyB,aAAhBpF,EAAKoF,OAAwB,WAAa,WACnDgF,EAAM,SAAAC,GAAG,OAAIA,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KACtF6F,EAAkB,QACtB,GAAoB,cAAhBnQ,EAAKqJ,OACP8G,EAAkB,0BAEf,GAAoB,gBAAhBnQ,EAAKqJ,OACZ8G,EAAkB,yBAEf,CACH,IAAMvF,EAAYrJ,KAAK6E,IAAI7E,KAAK6E,IAAI,IAAIoE,KAAKJ,EAAIpK,EAAKyK,kBAAkBnC,IAAU/G,KAAK6E,IAAI,IAAIoE,KAAKJ,EAAIpK,EAAK2K,gBAAgBrC,KAAW,IAAIkC,KAC5H,aAAXpF,GAAyBwF,EAAY,SAAeA,EAAY,MACnEuF,EAAkB,sBAEC,aAAX/K,GAAyBwF,EAAY,SAAeA,EAAY,WACxEuF,EAAkB,sBAGtB,OACE,eAAC,IAAD,CAAmB5J,MAAO,CAAC4J,mBAAyC/H,QAAS,WAC3EoI,GAAaxQ,EAAMkG,GACnBtB,EAAU0D,MAFZ,UAIE,cAAC,IAAD,UAAqBtI,EAAK+F,OAC1B,cAAC,IAAD,UAAqB/F,EAAKyK,gBAC1B,cAAC,IAAD,UAAqBzK,EAAK2K,cAC1B,cAAC,IAAD,UAAqB3K,EAAKsU,SAC1B,cAAC,IAAD,UAAqBtU,EAAKuU,cAC1B,cAAC,IAAD,UAAqBvU,EAAKwU,MAC1B,cAAC,IAAD,UAAqBxU,EAAKyU,WAC1B,cAAC,IAAD,UAAqBzU,EAAK0U,WAC1B,cAAC,IAAD,UAAqB1U,EAAK2U,QAC1B,cAAC,IAAD,UAAqB3U,EAAK6I,UAC1B,cAAC,IAAD,UAAqB7I,EAAKqJ,WAdsBrJ,EAAKqH,cAmBrDa,GAAsB,SAAClI,EAAMkG,GACjC,OACE,eAAC,IAAD,WACE,cAAC,IAAD,UAAqBlG,EAAK+F,OAC1B,cAAC,IAAD,UAAqB/F,EAAKyK,gBAC1B,cAAC,IAAD,UAAqBzK,EAAK2K,cAC1B,cAAC,IAAD,UAAqB3K,EAAKsU,SAC1B,cAAC,IAAD,UAAqBtU,EAAKuU,cAC1B,cAAC,IAAD,UAAqBvU,EAAKwU,MAC1B,cAAC,IAAD,UAAqBxU,EAAKyU,WAC1B,cAAC,IAAD,UAAqC,aAAhBzU,EAAKoF,OAAwB,WAAa,aAC/D,cAAC,IAAD,UAAqBpF,EAAK0U,WAC1B,cAAC,IAAD,UAAqB1U,EAAK2U,UAVJ3U,EAAKqH,cAe3BI,GAA4B,SAACzH,EAAMkG,EAAO0K,EAAKhM,GACnD,OACE,cAAC,IAAD,CAA6BwD,QAAS,WACpCoI,GAAaxQ,EAAMkG,GACnBtB,EAAU0D,MAFZ,SAGG,cAAC,IAAD,CAAoB/B,MAAOqO,GAAsB5U,EAAKsH,QAASuN,MAAM,SAArE,SAA+E7U,EAAK6R,SAH/DjB,IAOtBgE,GAAwB,SAACtN,GAC7B,OAAe,IAAXA,EACK,CACLwN,MAAO,QAIF,IAILtE,GAAe,SAACxQ,EAAMkG,GAC1B5D,EAAO,CAACsD,KAAM,SAAUjD,OAAQ,CAACN,EAAO6D,KACxC7D,KAGIgG,GAAY,SAAC/B,GACjBhE,EAAO,CAACsD,KAAM,YAAajD,OAAQ,CAACN,EAAOiE,KAC3CjE,KAGI0S,GAAc,SAAC,GAA4C,IAA3C/U,EAA0C,EAA1CA,KAAMwH,EAAoC,EAApCA,UAAkBO,GAAkB,EAAzBxB,MAAyB,EAAlBwB,QAAQiN,EAAU,EAAVA,KACpD,OACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAgBC,cAAY,EAA5B,UACGlN,EACD,cAAC,IAAD,UACG/H,EAAKc,IAAI0G,KAEXwN,QAMHE,GAAoB,SAACC,GAEzB,IAAMC,EAAsB,GAkB5B,MAAO,CAhBkB,SAACC,GACxB,OAAOD,EAAoBhU,KAAKiU,GAAU,GAGjB,SAAC5S,GACtBA,GAAM,GAAKA,EAAK2S,EAAoB1U,SACtC0U,EAAoB3S,GAAM,eAIR,WAAO,IAAD,gBACH2S,GADG,IAC1B,2BAA4C,EAC1CC,EAD0C,SACjCF,MAFe,kCAS1BhR,GAAY,GAEV2C,GAAoB,WACxB,OAAOvC,IAGLA,GAAqB,GAEnB+E,GAAW,CAAC,UAAW,YAAa,cAAe,YAAa,UAEhEiE,GAAa,CAAC,CAACxH,KAAM,eAAgB+F,YAAa,GAAI7D,aAAc,QAASiE,UAAW,QAASoJ,YAAY,EAAMvK,UAAU,GAAO,CAAChF,KAAM,SAAU+F,YAAa,WAAY7D,aAAc,eAAgBiE,UAAW,SAAUC,QAAS,CAAC,WAAY,aAAc,CAACpG,KAAM,OAAQ+F,YAAa,GAAI7D,aAAc,WAAY,CAAClC,KAAM,gBAAiB+F,YAAa,GAAI7D,aAAc,aAAciE,UAAW,YAAa,CAACnG,KAAM,cAAe+F,YAAa,GAAI7D,aAAc,WAAYiE,UAAW,YAAa,CAACnG,KAAM,SAAU+F,YAAa,GAAI7D,aAAc,sBAAuB,CAAClC,KAAM,cAAe+F,YAAa,GAAI7D,aAAc,eAAgB,CAAClC,KAAM,MAAO+F,YAAa,GAAI7D,aAAc,kBAAmB,CAAClC,KAAM,WAAY+F,YAAa,GAAI7D,aAAc,yBAA0B,CAAClC,KAAM,WAAY+F,YAAa,GAAI7D,aAAc,YAAa,CAAClC,KAAM,QAAS+F,YAAa,GAAI7D,aAAc,QAAS8C,UAAU,IAE94BuC,GAAe,CAAC,CAACvH,KAAM,UAAW+F,YAAa,GAAI7D,aAAc,kBAAmB8C,UAAU,GAAO,CAAChF,KAAM,SAAU+F,YAAa,UAAW7D,aAAc,WAE5JD,GAAY,sBAAOuF,GAAWjD,MAAM,GAAI,IAA5B,CAAgCiD,GAAW,IAA3C,YAAkDA,GAAWjD,OAAO,KAEhFiH,GAAa,sBAAOhE,GAAWjD,MAAM,GAAI,IAA5B,YAAmCiD,GAAWjD,OAAO,IAAOgD,IAEzEtC,GAAkB,GAElBF,GAAkB,GAElBe,GAAoB,CACxB,cAAiB,SAAAxB,GACf,IAAM2H,EAAO,IAAIxH,KAAKH,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KAE7F,OADA0H,EAAKnE,WAAWmE,EAAKlE,aAAakE,EAAKjE,qBAChCiE,EAAKhE,cAAcuH,UAAU,EAAG,KAEzC,YAAe,SAAAlL,GACb,IAAM2H,EAAO,IAAIxH,KAAKH,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KAE7F,OADA0H,EAAKnE,WAAWmE,EAAKlE,aAAakE,EAAKjE,qBAChCiE,EAAKhE,cAAcuH,UAAU,EAAG,MAIrC7F,GAAoB,CACxB,cAAiB,SAAArF,GAEf,OADa,IAAIG,KAAKH,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KACjFkL,WAEd,YAAe,SAAAnL,GAEb,OADa,IAAIG,KAAKH,EAAIC,MAAM,EAAE,IAAI,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,EAAE,GAAG,IAAID,EAAIC,MAAM,GAAG,KACjFkL,YAIhB,kBAA8BjI,GAAeD,IAA7C,kBAA4D,CAAvD,IAAMmI,GAAW,OACpBzK,GAAgByK,GAAY1P,MAAQ0P,GAAYxN,aAChD6C,GAAgB2K,GAAY1P,MAAQ,CAACuP,WAAYG,GAAYH,WAAYvK,SAAU0K,GAAY1K,UAGjG,IAAM2K,GAAO,SAAC,GAA0E,IAAzElQ,EAAwE,EAAxEA,aAAczC,EAA0D,EAA1DA,aAAcE,EAA4C,EAA5CA,SAAU0B,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,UAChE8Q,EAAM,CAAE,cAAC,IAAD,CAAcpP,MAAO,CAACqP,QAAS,EAAGC,SAAU,EAAGC,UAAU,EAAGC,QAAS,GAAIC,eAAa,EAACC,UAAQ,EAACxQ,MAAO,qBAAKc,MAAO,CAACC,OAAQ,OAAQG,MAAO,QAApC,SAA6C,qBAAKF,IAAKyP,EAAS1P,OAAO,OAAOG,MAAM,cACnMwP,EAAO,CAAE,cAAC,IAAD,CAAc5P,MAAO,CAACqP,QAAS,EAAGC,SAAU,EAAGC,UAAU,EAAGC,QAAS,GAAIC,eAAa,EAACC,UAAQ,EAACxQ,MAAO,cAAC,IAAD,CAAqB2C,QAAS,WAClJC,KACAzD,EAAU0D,MACT8N,KAAK,QAAQC,UAAU,0BAH4F,SAGlE,cAAC,IAAD,CAAS9P,MAAO,CAACuO,MAAO,gBACtEwB,EAAe9Q,EACrB,OACE,gCACE,cAAC,IAAD,CAAiB+Q,SAAS,SAAShQ,MAAO,CAACoN,IAAK,4BAA6B1C,IAAKpM,EAAlF,SACE,cAAC,IAAD,CAAesD,QAAQ,aAAaS,MAAOrH,KAAK6E,IAAIzB,EAAQ1B,EAASvC,OAAO,GAAGiV,EAAIjV,OAAnF,mBACOiV,EADP,YACgB1S,EAASnC,KAAI,SAAC0V,EAAOtQ,GACjC,IAAMqK,EAAG,2BAAOiG,EAAMC,OAAb,IAAoBxQ,eAAgB,kBAAMuQ,EAAMC,MAAMxQ,eAAeC,EAAOjD,EAASvC,SAAS0H,QAAS,WAAOxD,EAAUsB,IAASsL,OAAQtL,IAAU3E,KAAK6E,IAAIzB,EAAQ1B,EAASvC,OAAO,GAAIkQ,IAAK4F,EAAMC,MAAMzT,QAClN,OAAQ,cAAC,GAAD,eAASuN,QACZ4F,OAGX,8BACE,cAACG,EAAD,CAAcvT,aAAcA,EAAcC,MAAOC,EAAS1B,KAAK6E,IAAIzB,EAAQ1B,EAASvC,OAAO,IAAI+V,MAAMzT,MAArG,SACGC,EAAS1B,KAAK6E,IAAIzB,EAAQ1B,EAASvC,OAAO,YAO/CgW,GAAM,SAAC,GAAyD,IAAxDjR,EAAuD,EAAvDA,MAAO2C,EAAgD,EAAhDA,QAASoJ,EAAuC,EAAvCA,OAAQxL,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,eAC/C,OACE,cAAC,IAAD,CAAcM,MAAO,CAACwP,QAAS,GAAIC,eAAa,EAACC,UAAQ,EAACxQ,MAAQ,iCAAM,cAAC,IAAD,CAAcA,MAAOA,EAAO2C,QAASA,EAAS6N,WAAUzE,GAAgB,OAC7IxL,EAAa,cAAC,IAAD,CAAqBoQ,KAAK,QAAQhO,QAASnC,EAA3C,SAA2D,cAAC,IAAD,CAAaM,MAAO,CAACoQ,KAAM,gBAAmC9T,Q,GAU/EqS,GAAkBjL,I,qBAAzEiE,G,MAAkBG,G,MAAoBhK,G,SAEU6Q,GAAkBpO,I,qBAAlEG,G,MAAgBC,G,MAAkB1C,G,MAEzCoS,SACE,qBAAKrQ,MAAO,CAACsQ,UAAW,UAAxB,SACE,cAAC,EAAD,MAEFxD,SAASC,eAAe,W","file":"static/js/main.35af8853.chunk.js","sourcesContent":["var computeTfIdfs = (tagcollection, tf_, idf) => { //tf-idf implemented directly according to wikipedia's description of tf-idf\n  //we have to iterate through all tags anyway to compute any single tfidf, no point using lazy computation\n  //just get it done once and never do it again until the next inventory update\n  //if we are brave and adventurous we can try using delta updates and delta'ing the tfidf cache\n  for (var i = 0; i < tagcollection.length; i++){\n    var tags = Object.values(tagcollection[i]).map(x => x.toString().trim().toLowerCase().split(/\\b\\s+/)).flat()\n    var adda = {}\n    for (var j = 0; j < tags.length; j++){\n      if (!adda[tags[j]]){\n        if (!idf[tags[j]]){\n          idf[tags[j]] = 0\n        }\n        idf[tags[j]]++\n        adda[tags[j]] = 0\n      }\n      adda[tags[j]] += 1/tags.length\n    }\n    tf_.push(adda)\n  }\n  const iks = Object.keys(idf)\n  for (var i = 0; i < iks.length; i++){\n    if (idf[iks[i]]){\n      idf[iks[i]] = Math.log(tagcollection.length/idf[iks[i]])\n    }\n    else{\n      idf[iks[i]] = 0\n    }\n  }\n}\nvar makeRanker = (data) => {\n  var run = 0\n  var idf = {}\n  var tf_ = []\n  return (terms) => {\n    var terms = terms.trim().toLowerCase().split(/\\b\\s+/)\n    if (!run){\n      computeTfIdfs(data, tf_, idf)\n      run = 1\n    }\n    var ret = []\n    for (var i = 0; i < data.length; i++){\n      ret.push([0, 0, i, data[i]])\n    }\n    for (var i = 0; i < terms.length; i++){\n      var term = terms[i]\n      for (var j = 0; j < data.length; j++){\n        if (tf_[j][term]){\n          ret[j][0] -= tf_[j][term] * idf[term]\n          ret[j][1] -= tf_[j][term]\n        }\n      }\n    }\n    ret = ret.sort((a, b) => {\n      var i = 0\n      while(a[i] === b[i]){\n        i++\n      }\n      return a[i]-b[i]\n    }).map(x => x[3])\n    return ret\n  }\n}\nmodule.exports = {\n  makeRanker: makeRanker\n}","export default __webpack_public_path__ + \"static/media/logo.58ed9303.jpg\";","export default __webpack_public_path__ + \"static/media/5sirlogo.a6ac04db.jpg\";","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\n\nimport socketIOClient from \"socket.io-client\";\n\nimport * as Material from \"@material-ui/core\"\nimport * as Icons from \"@material-ui/icons\"\nimport SearchBar from \"material-ui-search-bar\"\n\nimport appLogo from \"./resources/logo.jpg\"\nimport sir5logo from \"./resources/5sirlogo.jpg\"\n\nimport {ViewState} from \"@devexpress/dx-react-scheduler\"\nimport {\n  Scheduler,\n  MonthView,\n  Appointments,\n  Toolbar,\n  DateNavigator\n} from \"@devexpress/dx-react-scheduler-material-ui\"\n\nimport CalendarTodayIcon from \"@material-ui/icons/CalendarToday\"\nimport ListIcon from \"@material-ui/icons/List\"\nimport AddIcon from \"@material-ui/icons/Add\"\n\nconst VERSION_NUMBER = \"0.1.20a\"\nconsole.log(VERSION_NUMBER)\n\nconst ranker = require(\"./searchRanker.js\")\n\nvar serverURL = \"https://murmuring-ocean-38436.herokuapp.com/\"\n\nvar setTabs\nvar additionalTabs = []\nconst RESERVED_TABS = 1\nvar tabID = RESERVED_TABS\nconst addTab = (tab) => {\n  additionalTabs = [...additionalTabs]\n  additionalTabs.push(tab)\n  setTabs(additionalTabs)\n}\nconst removeTab = (id) => {\n  additionalTabs = [...additionalTabs].filter(x => x.params[0] !== id)\n  detailPersistentStore[id] = undefined\n  setTabs(additionalTabs)\n}\n\nvar socket\n\nconst ScrollWrapper = ({childContext, mykey, children}) => {\n  const currKey = React.useRef(mykey)\n  if (currKey.current !== mykey && currKey.current !== null) {\n    childContext.current[currKey.current] = window.scrollY\n    currKey.current = null\n  }\n  React.useLayoutEffect(() => {\n    currKey.current = mykey\n    if (childContext.current[mykey] === undefined) {\n      childContext.current[mykey] = 0\n    }\n    window.scrollTo(window.scrollX, childContext.current[mykey])\n  }, [mykey, currKey])\n  return children\n}\n\nconst App = () => {\n  \n  var [tabs, mySetTabs] = React.useState([])\n  setTabs = mySetTabs\n  React.useEffect(() => {\n    socket = socketIOClient(serverURL, {secure: true});\n    socket.on(\"sendIndents\", (indents, writeToken) => {\n      if (writeToken !== undefined) {\n        if (writeToken < ackWriteToken) {\n          return\n        }\n        ackWriteToken = writeToken\n        if (pendingWrites[writeToken] !== undefined) {\n          pendingWrites[writeToken]()\n        }\n      }\n      dataStore = [...indents].reverse()\n      notifyNewData()\n    })\n    socket.on(\"sendNotifications\", (notifications) => {\n      notificationsStore = [...notifications].reverse()\n      notifyNewN()\n    })\n    socket.emit(\"requestIndents\", \"\")\n    socket.emit(\"requestNotifications\", \"\")\n    return () => {\n      socket.disconnect()\n    }\n  }, [])\n  const [selTab, setSelTab] = React.useState(0)\n  const appbarRef = React.useRef(null)\n  const heightListeners = React.useRef([])\n  const currentHeight = React.useRef(0)\n\n  React.useEffect(() => {\n    if (appbarRef.current) {\n      currentHeight.current = appbarRef.current.offsetHeight\n      for (const listener of heightListeners.current) {\n        listener(appbarRef.current.offsetHeight)\n      }\n    }\n  }, [appbarRef, appbarRef?.current?.offsetHeight])\n\n  const militaryPersistentStore = React.useRef({})\n  const militaryFilter = React.useMemo(() => x => x.system !== \"Civilian\", [])\n  const civilianPersistentStore = React.useRef({})\n  const civilianFilter = React.useMemo(() => x => x.system === \"Civilian\", [])\n  const childScrollContext = React.useRef({})\n\n  return (\n    <div>\n      <Tabs childWrapper={ScrollWrapper} childContext={childScrollContext} selTab={selTab} setSelTab={setSelTab} appbarRef={appbarRef}>\n        {[(<div label=\"military\" key=\"defaultTab0\" mykey=\"defaultTab0\">\n          <TransportView setSelTab={setSelTab} heightProvider={[currentHeight, heightListeners]} transportPersistentStore={militaryPersistentStore.current} filter={militaryFilter}/>\n        </div>),\n        (<div label=\"civilian\" key=\"defaultTab1\" mykey=\"defaultTab1\">\n          <TransportView setSelTab={setSelTab} heightProvider={[currentHeight, heightListeners]} transportPersistentStore={civilianPersistentStore.current} filter={civilianFilter}/>\n        </div>),\n        (<div label=\"new indent\" key=\"defaultTab2\" mykey=\"defaultTab2\">\n          <NewIndentView id={0}/>\n        </div>),\n        (<div label=\"notifications\" key=\"defaultTab3\" mykey=\"defaultTab3\">\n          <NotificationsPanel setSelTab={setSelTab}/>\n        </div>), ...tabs.map(({type, params: v}, i) => type === \"detail\" ? (<DetailGenerator setSelTab={setSelTab} mykey={v[0]} label={readDataStore(v[1]).name} removable=\"true\" removeCallback={(index, length) => {\n          removeTab(v[0])\n          const currSelTab = Math.min(selTab, length-1)\n          if (currSelTab > index) {\n            setSelTab(currSelTab-1)\n          }\n        }} details={v} key={v[0]} heightProvider={[currentHeight, heightListeners]} />)\n        : type === \"newindent\" ? (<NewIndentView cloneID={v[1]} mykey={v[0]} label=\"new indent\" removable=\"true\" removeCallback={(index, length) => {\n          removeTab(v[0])\n          const currSelTab = Math.min(selTab, length-1)\n          if (currSelTab > index) {\n            setSelTab(currSelTab-1)\n          }\n        }} id={v[0]} key={v[0]}/>) : (<div></div>))]}\n      </Tabs>\n      <div style={{height: \"12px\"}}/>\n      <img src={sir5logo} width=\"192px\"/>\n    </div>\n  );\n}\n\nconst NotificationsPanel = ({setSelTab}) => {\n  var myData = readNotifications()\n  const [data, setData] = React.useState(myData)\n  React.useEffect(() => {\n    const callbackID = registerNotify(setData)\n    return () => deregisterNotify(callbackID)\n  }, [])\n  var newData = []\n  const encountered = {}\n  for (var i = 0; i < myData.length; i++) {\n    if (encountered[myData[i].internalUID] === true) {\n      newData.push({...myData[i], latest: false})\n    }\n    else {\n      newData.push({...myData[i], latest: true})\n    }\n    encountered[myData[i].internalUID] = true\n  }\n  return (\n    <div>\n      <div style={{height: \"12px\"}}/>\n      <Material.Paper square>\n        <ListFactory data={newData} generator={(x, index) => notificationItemGenerator(x, x.internalUID, \"\"+x.internalUID+index, setSelTab)} style={TransportViewStyle}/>\n      </Material.Paper>\n    </div>\n  )\n}\n\nconst detailPersistentStore = {}\n\nconst DetailGenerator = ({setSelTab, details, heightProvider}) => {\n  const [id, index] = details\n  if (detailPersistentStore[id] === undefined) {\n    detailPersistentStore[id] = readDataStore(index)\n  }\n  const [data, setData] = React.useState(detailPersistentStore[id])\n  const edit = async () => {\n    const result = await editData(index, detailPersistentStore[id])\n    if (result === true) {\n      alert(\"Indent saved successfully!\")\n    }\n  }\n  return (\n  <div>\n    <div style={{height:\"12px\"}}/>\n    <Material.Paper square>\n      <ListFactory header={(<MyStickyHeader heightProvider={heightProvider}>{detailFields.map((x, index) => (<Material.TableCell key={index}>{x.friendlyName}</Material.TableCell>))}</MyStickyHeader>)} data={[data]} generator={x => detailItemGenerator(x, x.internalUID)} style={TransportViewStyle}/>\n    </Material.Paper>\n    <div style={{height:\"12px\"}}/>\n    <Material.Button variant=\"outlined\" onClick={() => {\n      addNewTab(data.internalUID)\n      setSelTab(Infinity)\n    }}>Copy</Material.Button>\n    <div style={{height:\"12px\"}}/>\n    <div>\n      <div style={{display:\"inline\", verticalAlign:\"middle\"}}>\n        <div style={formItemStyle}>\n          <Material.TextField fullWidth={true} multiline label={\"Additional Info\"} variant=\"outlined\" value={data.addInfo} onChange={(event) => {\n            detailPersistentStore[id] = {...detailPersistentStore[id], addInfo: event.target.value}\n            setData(detailPersistentStore[id])\n          }} InputLabelProps={{shrink: true,}} style={{maxWidth: \"1000px\"}}/>\n        </div>\n      </div>\n    </div>\n    <div style={{height:\"12px\"}}/>\n    <div>\n      <div style={{display:\"inline\", verticalAlign:\"middle\"}}>\n        <Material.Select variant=\"outlined\" native value={data.status} onChange={(event) => {\n          detailPersistentStore[id] = {...detailPersistentStore[id], status: event.target.value}\n          setData(detailPersistentStore[id])\n        }}>\n        {statuses.map((val, index) => (<option key={index} value={val}>{val}</option>))}\n        </Material.Select>\n      </div>\n      <div style={{display:\"inline-block\", width:\"1px\"}}/>\n      <div style={{display:\"inline\", verticalAlign:\"middle\"}}>\n        <Material.Button variant=\"outlined\" onClick={edit}>Save</Material.Button>\n      </div>\n    </div>\n  </div>\n  )\n}\n\nconst editData = async (index, newData) => {\n  const refresh = await writeDataStore(index, newData)\n  if (refresh) {\n    notifyNewData()\n  }\n  return refresh\n}\n\nconst readDataStore = (internalUID) => {\n  const result = dataStore.filter(x => x.internalUID === internalUID)\n  if (result.length === 0) {\n    return undefined\n  }\n  else {\n    return result[0]\n  }\n}\n\nvar ackWriteToken = 0\nvar currWriteToken = 0\nvar pendingWrites = []\n\nconst writeDataStore = async (internalUID, write) => {\n  currWriteToken++\n  var resolve\n  const myPromise = new Promise(v => resolve=v)\n  pendingWrites[currWriteToken] = resolve\n  socket.emit(\"writeDataStore\", [internalUID, write, currWriteToken])\n  await myPromise\n  if (currWriteToken === ackWriteToken) {\n    return true\n  }\n  else {\n    return false\n  }\n}\n\nconst appendDataStore = async (write) => {\n  currWriteToken++\n  var resolve\n  const myPromise = new Promise(v => resolve=v)\n  pendingWrites[currWriteToken] = resolve\n  socket.emit(\"appendDataStore\", [write, currWriteToken])\n  await myPromise\n  if (currWriteToken === ackWriteToken) {\n    return true\n  }\n  else {\n    return false\n  }\n}\n\nconst readRange = () => {\n  return dataStore\n}\n\nconst newIndentValidator = (data, authenticated) => {\n  const system = data.system\n  const fmt = str => str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16)\n  const sd = Math.min(new Date(fmt(data.startDateTime)))\n  if (sd !== sd) {\n    return [\"FAILED\", \"Enter a valid start date\"]\n  }\n  const ed = Math.min(new Date(fmt(data.endDateTime)))\n  if (ed !== ed) {\n    return [\"FAILED\", \"Enter a valid end date\"]\n  }\n  if (ed <= sd) {\n    return [\"FAILED\", \"End date must be after start date\"]\n  }\n  const timeDelta = Math.min(sd||Infinity, ed||Infinity)-(new Date())\n  if (((system !== \"Civilian\" && timeDelta < 1468800000) || timeDelta < 864000000) && authenticated !== true) {\n    return [\"AUTHENTICATE\", \"This indent is too late. Please discuss this indent manually with the transport clerk.\"]\n  }\n  for (const field in data) {\n    if (fieldAttributes[field].optional !== true && (typeof data[field] !== \"string\" || data[field].trim() === \"\")) {\n      if (fieldToFriendly[field] !== undefined) {\n        return [\"FAILED\", fieldToFriendly[field] + \" cannot be empty\"]\n      }\n      return [\"FAILED\", \"Field cannot be empty\"]\n    }\n  }\n  return [\"SUCCESS\"]\n}\n\nconst submitForm = async (data, validator, authenticated) => {\n  if (typeof validator === \"function\") {\n    const validated = validator(data, authenticated)\n    if (validated[0] !== \"SUCCESS\") {\n      return validated\n    }\n  }\n  const refresh = await appendDataStore(data)\n  if (refresh) {\n    notifyNewData()\n    return [\"SUCCESS\"]\n  }\n  return [\"UNKNOWN\"]\n}\n\nconst FormFactory = ({prefill, fields, defaults, formPersistentStore, validator}) => {\n  var fieldStates = []\n  var myPersistentStore = formPersistentStore === undefined ? {} : formPersistentStore\n  if (myPersistentStore.data === undefined) {\n    myPersistentStore.data = fields.map(x => {\n      if (typeof prefill === \"object\") {\n        const prefilledField = prefill[x.name]\n        if (prefilledField !== undefined) {\n          const prefillConverter = prefillConverters[x.name]\n          if (typeof prefillConverter === \"function\") {\n            return prefillConverter(prefilledField)\n          }\n          return prefilledField\n        }\n      }\n      return x.initialData\n    })\n  }\n  const [states, setStates] = React.useState(myPersistentStore.data)\n  var myStates = states\n  for (var index = 0; index < fields.length; index++) {\n    const i = index\n    const field = fields[i]\n    fieldStates.push([states[i], x => {\n      myStates = [...myStates]\n      myStates[i] = x\n      myPersistentStore.data = myStates\n      setStates(myStates)\n    },field.initialData, field.name, field.friendlyName, field.fieldType, field.options])\n  }\n  const initializeFields = () => {\n    const initializedFields = fields.map(x => x.initialData)\n    myPersistentStore.data = initializedFields\n    setStates(initializedFields)\n  }\n  const submit = async (authenticated) => {\n    var constitutedObject = {}\n    for (const {name, initialData} of defaults) {\n      constitutedObject[name] = initialData\n    }\n    for (const [text, setText, initialData, fieldName, friendlyName, fieldType] of fieldStates) {\n      const normalizer = normalizers[fieldType]\n      constitutedObject[fieldName] = normalizer ? normalizer(text) : text\n    }\n    const [result, params] = await submitForm(constitutedObject, validator, authenticated)\n    if (result === \"SUCCESS\") {\n      alert(\"Indent submitted successfully!\")\n      initializeFields()\n    }\n    else if (result === \"FAILED\") {\n      alert(params)\n    }\n    else if (result === \"AUTHENTICATE\") {\n      alert(\"Not implemented.\")\n    }\n  }\n  return (\n  <form noValidate>\n  <div>\n  {fieldStates.map(([text, setText, initialData, fieldName, friendlyName, fieldType, options], index) => {\n    return (\n      <div style={formItemStyle} key={index}>\n      {fieldType === \"datetime\" ?\n      (<Material.TextField\n        id=\"datetime-local\"\n        fullWidth={true}\n        label={friendlyName}\n        type=\"datetime-local\"\n        variant=\"outlined\"\n        value={text}\n        onChange={(event) => setText(event.target.value)}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        style={{maxWidth: \"1000px\"}}\n      />)\n      :fieldType === \"select\" ? \n      (<Material.TextField \n      fullWidth={true}\n      select\n      label={friendlyName}\n      variant=\"outlined\"\n      value={text}\n      SelectProps={{\n        native: true\n      }}\n      onChange={(event) => setText(event.target.value)}\n      InputLabelProps={{\n        shrink: true,\n      }}\n      style={{maxWidth: \"1000px\"}}\n      >\n      {options.map((val, index) => (<option key={index} value={val}>{val}</option>))}\n      </Material.TextField>)\n      :fieldType === \"multi\" ?\n      (<Material.TextField\n      fullWidth={true}\n      multiline\n      label={friendlyName}\n      variant=\"outlined\"\n      value={text[0] ?? \"\"}\n      onChange={(event) => setText([event.target.value])}\n      InputLabelProps={{\n        shrink: true\n      }}\n      style={{maxWidth: \"1000px\"}}/>)\n      :(<Material.TextField fullWidth={true} multiline label={friendlyName} variant=\"outlined\" value={text} onChange={(event) => setText(event.target.value)} InputLabelProps={{shrink: true,}} style={{maxWidth: \"1000px\"}}/>)\n      }\n      </div>\n    )\n  })}\n  </div>\n  <Material.Button variant=\"outlined\" onClick={submit}>submit</Material.Button>\n  </form>\n  )\n}\n\nconst normalizers = {\n  \"datetime\": x => {\n    try {\n      if (x.length > 0) {\n        return x.slice(8, 10) + \"/\" + x.slice(5, 7) + \"/\" + x.slice(0, 4) + \" \" + x.slice(11, 16)\n      }\n    }\n    catch {\n    }\n    return x\n  }\n}\n\nconst formItemStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  paddingLeft: \"12px\",\n  paddingRight: \"12px\",\n  paddingTop: \"5px\",\n  paddingBottom: \"7px\"\n}\n\nconst NewIndentView = ({id, cloneID}) => {\n  if (detailPersistentStore[id] === undefined) {\n    detailPersistentStore[id] = {}\n  }\n  const prefill = React.useMemo(() => cloneID !== undefined ? readDataStore(cloneID) : undefined, [cloneID, dataDefaults])\n  return (<div style={TransportViewStyle}><div style={{height: \"12px\"}}/><FormFactory prefill={prefill} fields={formFields} defaults={dataDefaults} formPersistentStore={detailPersistentStore[id]} validator={newIndentValidator}/></div>)\n}\n\nconst DEBOUNCE_PERIOD = 100\n\nconst Appointment = (setSelTab) => ({data, children, ...restProps}) => {\n  const system = data.system\n  var backgroundColor = \"gray\"\n  if (data.status === \"Confirmed\") {\n    backgroundColor = \"green\"\n  }\n  else if (data.status === \"Recommended\") {\n    backgroundColor = \"rgb(77, 77, 77)\"\n  }\n  else {\n    const timeDelta = Math.min(Math.min(new Date(data.startDate))||Infinity, Math.min(new Date(data.endDate))||Infinity)-(new Date())\n    if ((system !== \"Civilian\" && timeDelta < 1468800000) || timeDelta < 864000000) {\n      backgroundColor = \"red\"\n    }\n    else if ((system !== \"Civilian\" && timeDelta < 1814400000) || timeDelta < 1209600000) {\n      backgroundColor = \"rgb(204, 204, 0)\"\n    }\n  }\n  return (<Appointments.Appointment\n    {...restProps}\n    data={data}\n    onClick={obj => {\n      addDetailTab(undefined, obj.data.internalUID)\n      setSelTab(Infinity)\n    }}\n    style={{backgroundColor: backgroundColor}}\n  >\n    {children}\n  </Appointments.Appointment>)\n}\n\nconst TransportView = ({setSelTab, heightProvider, transportPersistentStore, filter}) => {\n  if (transportPersistentStore.initialized !== true) {\n    transportPersistentStore.initialized = true\n    transportPersistentStore.data = \"\"\n    transportPersistentStore.sort = null\n    transportPersistentStore.up = true\n    transportPersistentStore.view = \"list\"\n    transportPersistentStore.selDate = (x => (x.setMinutes(x.getMinutes()-x.getTimezoneOffset()), x))(new Date()).toISOString().slice(0, 10)\n  }\n  const range = readRange()\n  React.useEffect(() => {\n    const callbackID = registerCallback(value => {\n      myData.current = value\n      myRanker.current = ranker.makeRanker(value)\n      setData(myQuery.current !== \"\" ? myRanker.current(myQuery.current) : value)\n    })\n    return () => deregisterCallback(callbackID)\n  }, [])\n  const [search, setSearch] = React.useState(transportPersistentStore.data)\n  const last = React.useRef(null)\n  const myData = React.useRef(range)\n  const vRanker = ranker.makeRanker(range)\n  const myRanker = React.useRef(vRanker)\n  const myQuery = React.useRef(transportPersistentStore.data)\n  const [data, setData] = React.useState(transportPersistentStore.data !== \"\" ? vRanker(transportPersistentStore.data) : range)\n  const onChange = value => {\n    transportPersistentStore.data = value\n    setSearch(value)\n    transportPersistentStore.view = \"list\"\n    setView(\"list\")\n    transportPersistentStore.sort = null\n    setSort(null)\n    transportPersistentStore.up = true\n    setUp(true)\n    if (last.current !== null) {\n      clearTimeout(last.current)\n      last.current = null\n    }\n    last.current = setTimeout(() => {\n      myQuery.current = value\n      setData(value !== \"\" ? myRanker.current(value) : myData.current)\n      last.current = null\n    }, DEBOUNCE_PERIOD)\n  }\n  const barRef = React.useRef(null)\n  const [mySort, setSort] = React.useState(transportPersistentStore.sort)\n  const [isUp, setUp] = React.useState(transportPersistentStore.up)\n  const preFilteredData = React.useMemo(() => data.filter(x => x.status !== \"Hidden\"), [data])\n  const filteredData = React.useMemo(() => preFilteredData.filter(filter), [preFilteredData, filter])\n  const sortedData = React.useMemo(() => mySort === null ? filteredData : filteredData.map((x, index) => [x, index]).sort(([dx, ix], [dy, iy]) => {\n    const materializer = typeof sortMaterializers[mySort] === \"function\" ? sortMaterializers[mySort] : x => x\n    const x = materializer(dx[mySort])\n    const y = materializer(dy[mySort])\n    if (typeof x === typeof y && x !== y) {\n      if (typeof x === \"string\") {\n        for (var i = 0; i < Math.min(x.length, y.length); i++) {\n          const xc = x.charCodeAt(i)\n          const yc = y.charCodeAt(i)\n          if (xc !== yc) {\n            return xc-yc\n          }\n        }\n        return x.length - y.length\n      }\n      else if (typeof x === \"number\") {\n        return x-y\n      }\n    }\n    return ix-iy\n  }).map(([x, ix]) => x)\n  , [filteredData, mySort])\n  const reversedData = React.useMemo(() => isUp === true ? sortedData : [...sortedData].reverse(), [sortedData, isUp])\n  const sortOnClick = name => {\n    transportPersistentStore.data = \"\"\n    setSearch(\"\")\n    const set = name === mySort ? (isUp === false ? (transportPersistentStore.sort = null, setSort(null), true) : false) : (transportPersistentStore.sort = name, setSort(name), true)\n    transportPersistentStore.up = set\n    setUp(set)\n  }\n  const [view, setView] = React.useState(transportPersistentStore.view)\n  const [selDate, setDate] = React.useState(transportPersistentStore.selDate)\n  const myAppointment = React.useMemo(() => Appointment(setSelTab), [setSelTab])\n  React.useEffect(() => {\n    if (barRef.current === null) {\n      return\n    }\n    barRef.current.addEventListener(\"keyup\", e => {\n      if (e.charCode === 13 || e.key === \"Enter\") {\n        e.stopPropagation()\n      }\n    }, {capture: true})\n  }, [barRef])\n  return (\n    <div>\n      <div style={{height: \"12px\"}}/>\n      <div style={{marginLeft: \"12px\", marginRight: \"12px\"}}>\n        <div ref={barRef}>\n          <SearchBar\n            value={search}\n            onChange={onChange}\n            onCancelSearch={() => onChange(\"\")}\n            onRequestSearch={() => {\n              if (view === \"list\") {\n                transportPersistentStore.view = \"calendar\"\n                setView(\"calendar\")\n              }\n              else {\n                transportPersistentStore.view = \"list\"\n                setView(\"list\")\n              }\n            }}\n            style={{margin: \"auto\", maxWidth: \"1000px\"}}\n            searchIcon={<AnimatedIcon icon={view}/>}\n            />\n        </div>\n      </div>\n      <div style={{height: \"12px\"}}/>\n      <Material.Paper square>\n        {view === \"list\" ? (<ListFactory header={(<MyStickyHeader heightProvider={heightProvider}>{displayFields.map((x, index) => (<Material.TableCell key={index}><Material.TableSortLabel active={mySort === x.name} direction={mySort === x.name && isUp === false ? \"desc\" : \"asc\"} onClick={() => sortOnClick(x.name)}>{x.friendlyName}</Material.TableSortLabel></Material.TableCell>))}</MyStickyHeader>)} data={reversedData} generator={x => transportItemGenerator(x, x.internalUID, setSelTab)} style={TransportViewStyle}/>)\n        : (<Scheduler data={filteredData.map(x => {\n          const fmt = str => str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16)\n          return {\n            startDate: fmt(x.startDateTime),\n            endDate: fmt(x.endDateTime),\n            title: x.name,\n            internalUID: x.internalUID,\n            status: x.status,\n            system: x.system\n          }\n        })}>\n          <ViewState defaultCurrentDate={selDate} onCurrentDateChange={date => {\n            transportPersistentStore.selDate = date\n            setDate(date)\n          }}/>\n          <MonthView/>\n          <Appointments\n            appointmentComponent={myAppointment}\n          />\n          <Toolbar/>\n          <DateNavigator/>\n        </Scheduler>)}\n      </Material.Paper>\n    </div>\n  )\n}\n\nconst ANIMATION_TIME = 0.075\nconst TRANSITION_STRING = `all ${ANIMATION_TIME}s linear`\n\nconst synchronousAnimationProvider = (ref, onAnimationCollapse) => {\n  const processEnd = () => {\n    if (ref.current.getBoundingClientRect().width === 0) {\n      onAnimationCollapse()\n    }\n  }\n  ref.current.addEventListener(\"transitionend\", processEnd)\n  ref.current.addEventListener(\"transitioncancel\", processEnd)\n  const requestChange = (change) => {\n    if (change === \"expand\") {\n      ref.current.classList.remove(\"collapsed\")\n      ref.current.classList.add(\"expanded\")\n    }\n    else if (change === \"collapse\") {\n      ref.current.classList.remove(\"expanded\")\n      ref.current.classList.add(\"collapsed\")\n      processEnd()\n    }\n  }\n  return requestChange\n}\n\nconst AnimatedIcon = ({icon}) => {\n  const firstRender = React.useRef(true)\n  const synchronousIcon = React.useRef(icon)\n  const [displayedIcon, setIcon] = React.useState(icon)\n  const iconRef = React.useRef(null)\n  const currTarget = React.useRef(null)\n  const request = React.useRef(null)\n  React.useEffect(() => {\n    request.current = synchronousAnimationProvider(iconRef, () => {\n      if (currTarget.current !== null) {\n        const icon = currTarget.current\n        currTarget.current = null\n        synchronousIcon.current = icon\n        setIcon(icon)\n        request.current(\"expand\")\n      }\n    })\n  }, [iconRef])\n  React.useEffect(() => {\n    if (firstRender.current === true) {\n      firstRender.current = false\n      return\n    }\n    if (synchronousIcon.current === icon) {\n      currTarget.current = null\n      request.current(\"expand\")\n      return\n    }\n    currTarget.current = icon\n    request.current(\"collapse\")\n  }, [icon])\n  return (<Material.Icon ref={iconRef} style={{transition: TRANSITION_STRING}}>{displayedIcon === \"list\" ? (<CalendarTodayIcon/>) : (<ListIcon/>)}</Material.Icon>)\n}\n\nconst barSpacer = document.getElementById(\"barspacer\")\n\nconst MyStickyHeader = ({children, heightProvider: [currentHeight, heightListeners]}) => {\n  const headRef = React.useRef(null)\n  React.useEffect(() => {\n    const myListeners = heightListeners.current\n    var height = currentHeight.current\n    const capturedTop = headRef.current.getBoundingClientRect().top-barSpacer.getBoundingClientRect().bottom\n    const recomputeTop = () => {\n      const targetPosition = Math.max(window.scrollY+height-capturedTop, 0)\n      setTop(targetPosition)\n    }\n    recomputeTop()\n    const myIndex = myListeners.push(newHeight => {\n      height = newHeight\n      recomputeTop()\n    })-1\n    window.addEventListener(\"scroll\", recomputeTop)\n    return () => {\n      myListeners[myIndex] = ()=>{}\n      window.removeEventListener(\"scroll\", recomputeTop)\n    }\n  }, [currentHeight, heightListeners])\n  const [top, setTop] = React.useState(0)\n  return <Material.TableHead><Material.TableRow ref={headRef} style={{transform: \"translate(0,\"+top+\"px)\"}}>{children}</Material.TableRow></Material.TableHead>\n}\n\nconst TransportViewStyle = {\n  font: \"20px Arial, sans-serif\"\n}\n\nconst transportItemGenerator = (data, index, setSelTab) => {\n  const system = data.system === \"Civilian\" ? \"Civilian\" : \"Military\"\n  const fmt = str => str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16)\n  var backgroundColor = \"white\"\n  if (data.status === \"Confirmed\") {\n    backgroundColor = \"rgb(230, 255, 230)\"\n  }\n  else if (data.status === \"Recommended\") {\n    backgroundColor = \"rgb(238, 238, 238)\"\n  }\n  else {\n    const timeDelta = Math.min(Math.min(new Date(fmt(data.startDateTime)))||Infinity, Math.min(new Date(fmt(data.endDateTime)))||Infinity)-(new Date())\n    if ((system !== \"Civilian\" && timeDelta < 1468800000) || timeDelta < 864000000) {\n      backgroundColor = \"rgb(255, 230, 230)\"\n    }\n    else if ((system !== \"Civilian\" && timeDelta < 1814400000) || timeDelta < 1209600000) {\n      backgroundColor = \"rgb(255, 255, 204)\"\n    }\n  }\n  return (\n    <Material.TableRow style={{backgroundColor}} key={data.internalUID} onClick={() => {\n      addDetailTab(data, index)\n      setSelTab(Infinity)\n    }}>\n      <Material.TableCell>{data.name}</Material.TableCell>\n      <Material.TableCell>{data.startDateTime}</Material.TableCell>\n      <Material.TableCell>{data.endDateTime}</Material.TableCell>\n      <Material.TableCell>{data.origin}</Material.TableCell>\n      <Material.TableCell>{data.destination}</Material.TableCell>\n      <Material.TableCell>{data.POC}</Material.TableCell>\n      <Material.TableCell>{data.POCPhone}</Material.TableCell>\n      <Material.TableCell>{data.vehicles}</Material.TableCell>\n      <Material.TableCell>{data.notes}</Material.TableCell>\n      <Material.TableCell>{data.addInfo}</Material.TableCell>\n      <Material.TableCell>{data.status}</Material.TableCell>\n    </Material.TableRow>\n  )\n}\n\nconst detailItemGenerator = (data, index) => {\n  return (\n    <Material.TableRow key={data.internalUID}>\n      <Material.TableCell>{data.name}</Material.TableCell>\n      <Material.TableCell>{data.startDateTime}</Material.TableCell>\n      <Material.TableCell>{data.endDateTime}</Material.TableCell>\n      <Material.TableCell>{data.origin}</Material.TableCell>\n      <Material.TableCell>{data.destination}</Material.TableCell>\n      <Material.TableCell>{data.POC}</Material.TableCell>\n      <Material.TableCell>{data.POCPhone}</Material.TableCell>\n      <Material.TableCell>{data.system === \"Civilian\" ? \"Civilian\" : \"Military\"}</Material.TableCell>\n      <Material.TableCell>{data.vehicles}</Material.TableCell>\n      <Material.TableCell>{data.notes}</Material.TableCell>\n    </Material.TableRow>\n  )\n}\n\nconst notificationItemGenerator = (data, index, key, setSelTab) => {\n  return (\n    <Material.TableRow key={key} onClick={() => {\n      addDetailTab(data, index)\n      setSelTab(Infinity)\n    }}><Material.TableCell style={notificationItemStyle(data.latest)} align=\"center\">{data.title}</Material.TableCell></Material.TableRow>\n  )\n}\n\nconst notificationItemStyle = (latest) => {\n  if (latest === false) {\n    return {\n      color: \"grey\"\n    }\n  }\n  else {\n    return {}\n  }\n}\n\nconst addDetailTab = (data, index) => {\n  addTab({type: \"detail\", params: [tabID, index]})\n  tabID++\n}\n\nconst addNewTab = (cloneID) => {\n  addTab({type: \"newindent\", params: [tabID, cloneID]})\n  tabID++\n}\n\nconst ListFactory = ({data, generator, style, header, tail}) => {\n  return (\n    <Material.TableContainer>\n      <Material.Table stickyHeader>\n        {header}\n        <Material.TableBody>\n          {data.map(generator)}\n        </Material.TableBody>\n        {tail}\n      </Material.Table>\n    </Material.TableContainer>\n  )\n}\n\nconst getCallbackSystem = (dataSource) => {\n\n  const registeredCallbacks = []\n\n  const registerCallback = (callback) => {\n    return registeredCallbacks.push(callback)-1\n  }\n\n  const deregisterCallback = (id) => {\n    if (id > -1 && id < registeredCallbacks.length) {\n      registeredCallbacks[id] = ()=>{}\n    }\n  }\n  \n  const notifyNewData = () => {\n    for (const callback of registeredCallbacks) {\n      callback(dataSource())\n    }\n  }\n\n  return [registerCallback, deregisterCallback, notifyNewData]\n}\n\nvar dataStore = []\n\nconst readNotifications = () => {\n  return notificationsStore\n}\n\nvar notificationsStore = []\n\nconst statuses = [\"Pending\", \"Submitted\", \"Recommended\", \"Confirmed\", \"Hidden\"]\n\nconst formFields = [{name: \"emailsNotify\", initialData: [], friendlyName: \"Email\", fieldType: \"multi\", persistent: true, optional: true}, {name: \"system\", initialData: \"Military\", friendlyName: \"Vehicle type\", fieldType: \"select\", options: [\"Military\", \"Civilian\"]}, {name: \"name\", initialData: \"\", friendlyName: \"Purpose\"}, {name: \"startDateTime\", initialData: \"\", friendlyName: \"Start time\", fieldType: \"datetime\"}, {name: \"endDateTime\", initialData: \"\", friendlyName: \"End time\", fieldType: \"datetime\"}, {name: \"origin\", initialData: \"\", friendlyName: \"Reporting location\"}, {name: \"destination\", initialData: \"\", friendlyName: \"Destination\"}, {name: \"POC\", initialData: \"\", friendlyName: \"Contact person\"}, {name: \"POCPhone\", initialData: \"\", friendlyName: \"Contact person number\"}, {name: \"vehicles\", initialData: \"\", friendlyName: \"Vehicles\"}, {name: \"notes\", initialData: \"\", friendlyName: \"Notes\", optional: true}]\n\nconst dataDefaults = [{name: \"addInfo\", initialData: \"\", friendlyName: \"Additional Info\", optional: true}, {name: \"status\", initialData: \"Pending\", friendlyName: \"Status\"}]\n\nconst detailFields = [...formFields.slice(2, -2), formFields[1], ...formFields.slice(-2)]\n\nconst displayFields = [...formFields.slice(2, -2), ...formFields.slice(-2), ...dataDefaults]\n\nconst fieldToFriendly = {}\n\nconst fieldAttributes = {}\n\nconst prefillConverters = {\n  \"startDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    date.setMinutes(date.getMinutes()-date.getTimezoneOffset())\n    return date.toISOString().substring(0, 16)\n  },\n  \"endDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    date.setMinutes(date.getMinutes()-date.getTimezoneOffset())\n    return date.toISOString().substring(0, 16)\n  }\n}\n\nconst sortMaterializers = {\n  \"startDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    return date.getTime()\n  },\n  \"endDateTime\": str => {\n    const date = new Date(str.slice(6,10)+\"-\"+str.slice(3,5)+\"-\"+str.slice(0,2)+\"T\"+str.slice(11,16))\n    return date.getTime()\n  }\n}\n\nfor (const description of [...formFields, ...dataDefaults]) {\n  fieldToFriendly[description.name] = description.friendlyName\n  fieldAttributes[description.name] = {persistent: description.persistent, optional: description.optional}\n}\n\nconst Tabs = ({childWrapper, childContext, children, selTab, setSelTab, appbarRef}) => {\n  const pre = [(<Material.Tab style={{opacity: 1, minWidth: 0, minHeight:0, padding: 0}} disableRipple selected label={<div style={{height: \"48px\", width: \"48px\"}}><img src={appLogo} height=\"48px\" width=\"48px\"/></div>}/>)]\n  const post = [(<Material.Tab style={{opacity: 1, minWidth: 0, minHeight:0, padding: 0}} disableRipple selected label={<Material.IconButton onClick={() => {\n    addNewTab()\n    setSelTab(Infinity)\n  }} size=\"small\" className=\"MuiTab-textColorInherit\"><AddIcon style={{color: \"white\"}}/></Material.IconButton>}/>)]\n  const ChildWrapper = childWrapper\n  return (\n    <div>\n      <Material.AppBar position=\"sticky\" style={{top: \"env(safe-area-inset-top)\"}} ref={appbarRef}>\n        <Material.Tabs variant=\"scrollable\" value={Math.min(selTab, children.length-1)+pre.length}>\n          {[...pre , ...children.map((child, index) => {\n            const obj = {...child.props, removeCallback: () => child.props.removeCallback(index, children.length), onClick: () => {setSelTab(index)}, active: index === Math.min(selTab, children.length-1), key: child.props.mykey}\n            return (<Tab {...obj}></Tab>)\n          }), ...post]}\n        </Material.Tabs>\n      </Material.AppBar>\n      <div>\n        <ChildWrapper childContext={childContext} mykey={children[Math.min(selTab, children.length-1)].props.mykey}>\n          {children[Math.min(selTab, children.length-1)]}\n        </ChildWrapper>\n      </div>\n    </div>\n  )\n}\n\nconst Tab = ({label, onClick, active, removable, removeCallback}) => {\n  return (\n    <Material.Tab style={{padding: 0}} disableRipple selected label={(<span><Material.Tab label={label} onClick={onClick} selected={active ? true : null}/>\n      {removable ? (<Material.IconButton size=\"small\" onClick={removeCallback}><Icons.Close style={{fill: \"red\"}}/></Material.IconButton>) : undefined}\n      </span>)}/>\n  )\n}\n\nconst TabCloseStyle = {\n  font: \"16px Arial, sans-serif\",\n  margin: \"auto\"\n}\n\nconst [registerCallback, deregisterCallback, notifyNewData] = getCallbackSystem(readRange)\n\nconst [registerNotify, deregisterNotify, notifyNewN] = getCallbackSystem(readNotifications)\n\nReactDOM.render(\n  <div style={{textAlign: \"center\"}}>\n    <App/>\n  </div>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}